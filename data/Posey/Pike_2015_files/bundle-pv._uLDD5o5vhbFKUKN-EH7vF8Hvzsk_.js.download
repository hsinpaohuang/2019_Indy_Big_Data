/** /common/js/yui2.8/build/logger/logger-min.js **/
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.8.0r4
*/
YAHOO.widget.LogMsg=function(A){this.msg=this.time=this.category=this.source=this.sourceDetail=null;if(A&&(A.constructor==Object)){for(var B in A){if(A.hasOwnProperty(B)){this[B]=A[B];}}}};YAHOO.widget.LogWriter=function(A){if(!A){YAHOO.log("Could not instantiate LogWriter due to invalid source.","error","LogWriter");return;}this._source=A;};YAHOO.widget.LogWriter.prototype.toString=function(){return"LogWriter "+this._sSource;};YAHOO.widget.LogWriter.prototype.log=function(A,B){YAHOO.widget.Logger.log(A,B,this._source);};YAHOO.widget.LogWriter.prototype.getSource=function(){return this._source;};YAHOO.widget.LogWriter.prototype.setSource=function(A){if(!A){YAHOO.log("Could not set source due to invalid source.","error",this.toString());return;}else{this._source=A;}};YAHOO.widget.LogWriter.prototype._source=null;if(!YAHOO.widget.Logger){YAHOO.widget.Logger={loggerEnabled:true,_browserConsoleEnabled:false,categories:["info","warn","error","time","window"],sources:["global"],_stack:[],maxStackEntries:2500,_startTime:new Date().getTime(),_lastTime:null,_windowErrorsHandled:false,_origOnWindowError:null};YAHOO.widget.Logger.log=function(B,F,G){if(this.loggerEnabled){if(!F){F="info";}else{F=F.toLocaleLowerCase();if(this._isNewCategory(F)){this._createNewCategory(F);}}var C="global";var A=null;if(G){var D=G.indexOf(" ");if(D>0){C=G.substring(0,D);A=G.substring(D,G.length);}else{C=G;}if(this._isNewSource(C)){this._createNewSource(C);}}var H=new Date();var J=new YAHOO.widget.LogMsg({msg:B,time:H,category:F,source:C,sourceDetail:A});var I=this._stack;var E=this.maxStackEntries;if(E&&!isNaN(E)&&(I.length>=E)){I.shift();}I.push(J);this.newLogEvent.fire(J);if(this._browserConsoleEnabled){this._printToBrowserConsole(J);}return true;}else{return false;}};YAHOO.widget.Logger.reset=function(){this._stack=[];this._startTime=new Date().getTime();this.loggerEnabled=true;this.log("Logger reset");this.logResetEvent.fire();};YAHOO.widget.Logger.getStack=function(){return this._stack;};YAHOO.widget.Logger.getStartTime=function(){return this._startTime;};YAHOO.widget.Logger.disableBrowserConsole=function(){YAHOO.log("Logger output to the function console.log() has been disabled.");this._browserConsoleEnabled=false;};YAHOO.widget.Logger.enableBrowserConsole=function(){this._browserConsoleEnabled=true;YAHOO.log("Logger output to the function console.log() has been enabled.");};YAHOO.widget.Logger.handleWindowErrors=function(){if(!YAHOO.widget.Logger._windowErrorsHandled){if(window.error){YAHOO.widget.Logger._origOnWindowError=window.onerror;}window.onerror=YAHOO.widget.Logger._onWindowError;YAHOO.widget.Logger._windowErrorsHandled=true;YAHOO.log("Logger handling of window.onerror has been enabled.");}else{YAHOO.log("Logger handling of window.onerror had already been enabled.");}};YAHOO.widget.Logger.unhandleWindowErrors=function(){if(YAHOO.widget.Logger._windowErrorsHandled){if(YAHOO.widget.Logger._origOnWindowError){window.onerror=YAHOO.widget.Logger._origOnWindowError;YAHOO.widget.Logger._origOnWindowError=null;}else{window.onerror=null;}YAHOO.widget.Logger._windowErrorsHandled=false;YAHOO.log("Logger handling of window.onerror has been disabled.");}else{YAHOO.log("Logger handling of window.onerror had already been disabled.");}};YAHOO.widget.Logger.categoryCreateEvent=new YAHOO.util.CustomEvent("categoryCreate",this,true);YAHOO.widget.Logger.sourceCreateEvent=new YAHOO.util.CustomEvent("sourceCreate",this,true);YAHOO.widget.Logger.newLogEvent=new YAHOO.util.CustomEvent("newLog",this,true);YAHOO.widget.Logger.logResetEvent=new YAHOO.util.CustomEvent("logReset",this,true);YAHOO.widget.Logger._createNewCategory=function(A){this.categories.push(A);this.categoryCreateEvent.fire(A);};YAHOO.widget.Logger._isNewCategory=function(B){for(var A=0;A<this.categories.length;A++){if(B==this.categories[A]){return false;}}return true;};YAHOO.widget.Logger._createNewSource=function(A){this.sources.push(A);this.sourceCreateEvent.fire(A);};YAHOO.widget.Logger._isNewSource=function(A){if(A){for(var B=0;B<this.sources.length;B++){if(A==this.sources[B]){return false;}}return true;}};YAHOO.widget.Logger._printToBrowserConsole=function(C){if(window.console&&console.log){var E=C.category;var D=C.category.substring(0,4).toUpperCase();var G=C.time;var F;if(G.toLocaleTimeString){F=G.toLocaleTimeString();}else{F=G.toString();}var H=G.getTime();var B=(YAHOO.widget.Logger._lastTime)?(H-YAHOO.widget.Logger._lastTime):0;YAHOO.widget.Logger._lastTime=H;var A=F+" ("+B+"ms): "+C.source+": ";if(YAHOO.env.ua.webkit){A+=C.msg;}console.log(A,C.msg);}};YAHOO.widget.Logger._onWindowError=function(A,C,B){try{YAHOO.widget.Logger.log(A+" ("+C+", line "+B+")","window");if(YAHOO.widget.Logger._origOnWindowError){YAHOO.widget.Logger._origOnWindowError();}}catch(D){return false;}};YAHOO.widget.Logger.log("Logger initialized");}(function(){var C=YAHOO.widget.Logger,D=YAHOO.util,E=D.Dom,A=D.Event,G=document;function B(I,H){I=G.createElement(I);if(H){for(var J in H){if(H.hasOwnProperty(J)){I[J]=H[J];}}}return I;}function F(I,H){this._sName=F._index;F._index++;this._init.apply(this,arguments);if(this.autoRender!==false){this.render();}}YAHOO.lang.augmentObject(F,{_index:0,ENTRY_TEMPLATE:(function(){return B("pre",{className:"yui-log-entry"});})(),VERBOSE_TEMPLATE:"<p><span class='{category}'>{label}</span> {totalTime}ms (+{elapsedTime}) {localTime}:</p><p>{sourceAndDetail}</p><p>{message}</p>",BASIC_TEMPLATE:"<p><span class='{category}'>{label}</span> {totalTime}ms (+{elapsedTime}) {localTime}: {sourceAndDetail}: {message}</p>"});F.prototype={logReaderEnabled:true,width:null,height:null,top:null,left:null,right:null,bottom:null,fontSize:null,footerEnabled:true,verboseOutput:true,entryFormat:null,newestOnTop:true,outputBuffer:100,thresholdMax:500,thresholdMin:100,isCollapsed:false,isPaused:false,draggable:true,toString:function(){return"LogReader instance"+this._sName;},pause:function(){this.isPaused=true;this._timeout=null;this.logReaderEnabled=false;if(this._btnPause){this._btnPause.value="Resume";
}},resume:function(){this.isPaused=false;this.logReaderEnabled=true;this._printBuffer();if(this._btnPause){this._btnPause.value="Pause";}},render:function(){if(this.rendered){return;}this._initContainerEl();this._initHeaderEl();this._initConsoleEl();this._initFooterEl();this._initCategories();this._initSources();this._initDragDrop();C.newLogEvent.subscribe(this._onNewLog,this);C.logResetEvent.subscribe(this._onReset,this);C.categoryCreateEvent.subscribe(this._onCategoryCreate,this);C.sourceCreateEvent.subscribe(this._onSourceCreate,this);this.rendered=true;this._filterLogs();},destroy:function(){A.purgeElement(this._elContainer,true);this._elContainer.innerHTML="";this._elContainer.parentNode.removeChild(this._elContainer);this.rendered=false;},hide:function(){this._elContainer.style.display="none";},show:function(){this._elContainer.style.display="block";},collapse:function(){this._elConsole.style.display="none";if(this._elFt){this._elFt.style.display="none";}this._btnCollapse.value="Expand";this.isCollapsed=true;},expand:function(){this._elConsole.style.display="block";if(this._elFt){this._elFt.style.display="block";}this._btnCollapse.value="Collapse";this.isCollapsed=false;},getCheckbox:function(H){return this._filterCheckboxes[H];},getCategories:function(){return this._categoryFilters;},showCategory:function(I){var K=this._categoryFilters;if(K.indexOf){if(K.indexOf(I)>-1){return;}}else{for(var H=0;H<K.length;H++){if(K[H]===I){return;}}}this._categoryFilters.push(I);this._filterLogs();var J=this.getCheckbox(I);if(J){J.checked=true;}},hideCategory:function(I){var K=this._categoryFilters;for(var H=0;H<K.length;H++){if(I==K[H]){K.splice(H,1);break;}}this._filterLogs();var J=this.getCheckbox(I);if(J){J.checked=false;}},getSources:function(){return this._sourceFilters;},showSource:function(H){var K=this._sourceFilters;if(K.indexOf){if(K.indexOf(H)>-1){return;}}else{for(var I=0;I<K.length;I++){if(H==K[I]){return;}}}K.push(H);this._filterLogs();var J=this.getCheckbox(H);if(J){J.checked=true;}},hideSource:function(H){var K=this._sourceFilters;for(var I=0;I<K.length;I++){if(H==K[I]){K.splice(I,1);break;}}this._filterLogs();var J=this.getCheckbox(H);if(J){J.checked=false;}},clearConsole:function(){this._timeout=null;this._buffer=[];this._consoleMsgCount=0;var H=this._elConsole;H.innerHTML="";},setTitle:function(H){this._title.innerHTML=this.html2Text(H);},getLastTime:function(){return this._lastTime;},formatMsg:function(I){var H=this.entryFormat||(this.verboseOutput?F.VERBOSE_TEMPLATE:F.BASIC_TEMPLATE),J={category:I.category,label:I.category.substring(0,4).toUpperCase(),sourceAndDetail:I.sourceDetail?I.source+" "+I.sourceDetail:I.source,message:this.html2Text(I.msg||I.message||"")};if(I.time&&I.time.getTime){J.localTime=I.time.toLocaleTimeString?I.time.toLocaleTimeString():I.time.toString();J.elapsedTime=I.time.getTime()-this.getLastTime();J.totalTime=I.time.getTime()-C.getStartTime();}var K=F.ENTRY_TEMPLATE.cloneNode(true);if(this.verboseOutput){K.className+=" yui-log-verbose";}K.innerHTML=H.replace(/\{(\w+)\}/g,function(L,M){return(M in J)?J[M]:"";});return K;},html2Text:function(H){if(H){H+="";return H.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;");}return"";},_sName:null,_buffer:null,_consoleMsgCount:0,_lastTime:null,_timeout:null,_filterCheckboxes:null,_categoryFilters:null,_sourceFilters:null,_elContainer:null,_elHd:null,_elCollapse:null,_btnCollapse:null,_title:null,_elConsole:null,_elFt:null,_elBtns:null,_elCategoryFilters:null,_elSourceFilters:null,_btnPause:null,_btnClear:null,_init:function(H,I){this._buffer=[];this._filterCheckboxes={};this._lastTime=C.getStartTime();if(I&&(I.constructor==Object)){for(var J in I){if(I.hasOwnProperty(J)){this[J]=I[J];}}}this._elContainer=E.get(H);YAHOO.log("LogReader initialized",null,this.toString());},_initContainerEl:function(){if(!this._elContainer||!/div$/i.test(this._elContainer.tagName)){this._elContainer=G.body.insertBefore(B("div"),G.body.firstChild);E.addClass(this._elContainer,"yui-log-container");}E.addClass(this._elContainer,"yui-log");var J=this._elContainer.style,H=["width","right","top","fontSize"],K,I;for(I=H.length-1;I>=0;--I){K=H[I];if(this[K]){J[K]=this[K];}}if(this.left){J.left=this.left;J.right="auto";}if(this.bottom){J.bottom=this.bottom;J.top="auto";}if(YAHOO.env.ua.opera){G.body.style+="";}},_initHeaderEl:function(){if(this._elHd){A.purgeElement(this._elHd,true);this._elHd.innerHTML="";}this._elHd=B("div",{id:"yui-log-hd"+this._sName,className:"yui-log-hd"});this._elCollapse=B("div",{className:"yui-log-btns"});this._btnCollapse=B("input",{type:"button",className:"yui-log-button",value:"Collapse"});A.on(this._btnCollapse,"click",this._onClickCollapseBtn,this);this._title=B("h4",{innerHTML:"Logger Console"});this._elCollapse.appendChild(this._btnCollapse);this._elHd.appendChild(this._elCollapse);this._elHd.appendChild(this._title);this._elContainer.appendChild(this._elHd);},_initConsoleEl:function(){if(this._elConsole){A.purgeElement(this._elConsole,true);this._elConsole.innerHTML="";}this._elConsole=B("div",{className:"yui-log-bd"});if(this.height){this._elConsole.style.height=this.height;}this._elContainer.appendChild(this._elConsole);},_initFooterEl:function(){if(this.footerEnabled){if(this._elFt){A.purgeElement(this._elFt,true);this._elFt.innerHTML="";}this._elFt=B("div",{className:"yui-log-ft"});this._elBtns=B("div",{className:"yui-log-btns"});this._btnPause=B("input",{type:"button",className:"yui-log-button",value:"Pause"});A.on(this._btnPause,"click",this._onClickPauseBtn,this);this._btnClear=B("input",{type:"button",className:"yui-log-button",value:"Clear"});A.on(this._btnClear,"click",this._onClickClearBtn,this);this._elCategoryFilters=B("div",{className:"yui-log-categoryfilters"});this._elSourceFilters=B("div",{className:"yui-log-sourcefilters"});this._elBtns.appendChild(this._btnPause);this._elBtns.appendChild(this._btnClear);this._elFt.appendChild(this._elBtns);this._elFt.appendChild(this._elCategoryFilters);
this._elFt.appendChild(this._elSourceFilters);this._elContainer.appendChild(this._elFt);}},_initDragDrop:function(){if(D.DD&&this.draggable&&this._elHd){var H=new D.DD(this._elContainer);H.setHandleElId(this._elHd.id);this._elHd.style.cursor="move";}},_initCategories:function(){this._categoryFilters=[];var J=C.categories;for(var H=0;H<J.length;H++){var I=J[H];this._categoryFilters.push(I);if(this._elCategoryFilters){this._createCategoryCheckbox(I);}}},_initSources:function(){this._sourceFilters=[];var J=C.sources;for(var I=0;I<J.length;I++){var H=J[I];this._sourceFilters.push(H);if(this._elSourceFilters){this._createSourceCheckbox(H);}}},_createCategoryCheckbox:function(K){if(this._elFt){var J=B("span",{className:"yui-log-filtergrp"}),H=B("input",{id:"yui-log-filter-"+K+this._sName,className:"yui-log-filter-"+K,type:"checkbox",category:K}),I=B("label",{htmlFor:H.id,className:K,innerHTML:K});A.on(H,"click",this._onCheckCategory,this);this._filterCheckboxes[K]=H;J.appendChild(H);J.appendChild(I);this._elCategoryFilters.appendChild(J);H.checked=true;}},_createSourceCheckbox:function(H){if(this._elFt){var K=B("span",{className:"yui-log-filtergrp"}),I=B("input",{id:"yui-log-filter-"+H+this._sName,className:"yui-log-filter-"+H,type:"checkbox",source:H}),J=B("label",{htmlFor:I.id,className:H,innerHTML:H});A.on(I,"click",this._onCheckSource,this);this._filterCheckboxes[H]=I;K.appendChild(I);K.appendChild(J);this._elSourceFilters.appendChild(K);I.checked=true;}},_filterLogs:function(){if(this._elConsole!==null){this.clearConsole();this._printToConsole(C.getStack());}},_printBuffer:function(){this._timeout=null;if(this._elConsole!==null){var I=this.thresholdMax;I=(I&&!isNaN(I))?I:500;if(this._consoleMsgCount<I){var H=[];for(var J=0;J<this._buffer.length;J++){H[J]=this._buffer[J];}this._buffer=[];this._printToConsole(H);}else{this._filterLogs();}if(!this.newestOnTop){this._elConsole.scrollTop=this._elConsole.scrollHeight;}}},_printToConsole:function(P){var I=P.length,T=G.createDocumentFragment(),W=[],X=this.thresholdMin,J=this._sourceFilters.length,U=this._categoryFilters.length,R,O,N,M,S;if(isNaN(X)||(X>this.thresholdMax)){X=0;}R=(I>X)?(I-X):0;for(O=R;O<I;O++){var L=false,Q=false,V=P[O],H=V.source,K=V.category;for(N=0;N<J;N++){if(H==this._sourceFilters[N]){Q=true;break;}}if(Q){for(N=0;N<U;N++){if(K==this._categoryFilters[N]){L=true;break;}}}if(L){if(this._consoleMsgCount===0){this._lastTime=V.time.getTime();}M=this.formatMsg(V);if(typeof M==="string"){W[W.length]=M;}else{T.insertBefore(M,this.newestOnTop?T.firstChild||null:null);}this._consoleMsgCount++;this._lastTime=V.time.getTime();}}if(W.length){W.splice(0,0,this._elConsole.innerHTML);this._elConsole.innerHTML=this.newestOnTop?W.reverse().join(""):W.join("");}else{if(T.firstChild){this._elConsole.insertBefore(T,this.newestOnTop?this._elConsole.firstChild||null:null);}}},_onCategoryCreate:function(K,J,H){var I=J[0];H._categoryFilters.push(I);if(H._elFt){H._createCategoryCheckbox(I);}},_onSourceCreate:function(K,J,H){var I=J[0];H._sourceFilters.push(I);if(H._elFt){H._createSourceCheckbox(I);}},_onCheckCategory:function(H,I){var J=this.category;if(!this.checked){I.hideCategory(J);}else{I.showCategory(J);}},_onCheckSource:function(H,I){var J=this.source;if(!this.checked){I.hideSource(J);}else{I.showSource(J);}},_onClickCollapseBtn:function(H,I){if(!I.isCollapsed){I.collapse();}else{I.expand();}},_onClickPauseBtn:function(H,I){if(!I.isPaused){I.pause();}else{I.resume();}},_onClickClearBtn:function(H,I){I.clearConsole();},_onNewLog:function(K,J,H){var I=J[0];H._buffer.push(I);if(H.logReaderEnabled===true&&H._timeout===null){H._timeout=setTimeout(function(){H._printBuffer();},H.outputBuffer);}},_onReset:function(J,I,H){H._filterLogs();}};YAHOO.widget.LogReader=F;})();YAHOO.register("logger",YAHOO.widget.Logger,{version:"2.8.0r4",build:"2449"});
/** /common/js/yui2.8/build/selector/selector-min.js **/
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.8.0r4
*/
(function(){var A=YAHOO.util;A.Selector={_foundCache:[],_regexCache:{},_re:{nth:/^(?:([-]?\d*)(n){1}|(odd|even)$)*([-+]?\d*)$/,attr:/(\[.*\])/g,urls:/^(?:href|src)/},document:window.document,attrAliases:{},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[class~=$1]"},operators:{"=":function(B,C){return B===C;},"!=":function(B,C){return B!==C;},"~=":function(B,D){var C=" ";return(C+B+C).indexOf((C+D+C))>-1;},"|=":function(B,C){return B===C||B.slice(0,C.length+1)===C+"-";},"^=":function(B,C){return B.indexOf(C)===0;},"$=":function(B,C){return B.slice(-C.length)===C;},"*=":function(B,C){return B.indexOf(C)>-1;},"":function(B,C){return B;}},pseudos:{"root":function(B){return B===B.ownerDocument.documentElement;},"nth-child":function(B,C){return A.Selector._getNth(B,C);},"nth-last-child":function(B,C){return A.Selector._getNth(B,C,null,true);},"nth-of-type":function(B,C){return A.Selector._getNth(B,C,B.tagName);},"nth-last-of-type":function(B,C){return A.Selector._getNth(B,C,B.tagName,true);},"first-child":function(B){return A.Selector._getChildren(B.parentNode)[0]===B;},"last-child":function(C){var B=A.Selector._getChildren(C.parentNode);return B[B.length-1]===C;},"first-of-type":function(B,C){return A.Selector._getChildren(B.parentNode,B.tagName)[0];},"last-of-type":function(C,D){var B=A.Selector._getChildren(C.parentNode,C.tagName);return B[B.length-1];},"only-child":function(C){var B=A.Selector._getChildren(C.parentNode);return B.length===1&&B[0]===C;},"only-of-type":function(B){return A.Selector._getChildren(B.parentNode,B.tagName).length===1;},"empty":function(B){return B.childNodes.length===0;},"not":function(B,C){return !A.Selector.test(B,C);},"contains":function(B,D){var C=B.innerText||B.textContent||"";return C.indexOf(D)>-1;},"checked":function(B){return B.checked===true;}},test:function(F,D){F=A.Selector.document.getElementById(F)||F;if(!F){return false;}var C=D?D.split(","):[];if(C.length){for(var E=0,B=C.length;E<B;++E){if(A.Selector._test(F,C[E])){return true;}}return false;}return A.Selector._test(F,D);},_test:function(D,G,F,E){F=F||A.Selector._tokenize(G).pop()||{};if(!D.tagName||(F.tag!=="*"&&D.tagName!==F.tag)||(E&&D._found)){return false;}if(F.attributes.length){var B,H,C=A.Selector._re.urls;if(!D.attributes||!D.attributes.length){return false;}for(var I=0,K;K=F.attributes[I++];){H=(C.test(K[0]))?2:0;B=D.getAttribute(K[0],H);if(B===null||B===undefined){return false;}if(A.Selector.operators[K[1]]&&!A.Selector.operators[K[1]](B,K[2])){return false;}}}if(F.pseudos.length){for(var I=0,J=F.pseudos.length;I<J;++I){if(A.Selector.pseudos[F.pseudos[I][0]]&&!A.Selector.pseudos[F.pseudos[I][0]](D,F.pseudos[I][1])){return false;}}}return(F.previous&&F.previous.combinator!==",")?A.Selector._combinators[F.previous.combinator](D,F):true;},filter:function(E,D){E=E||[];var G,C=[],H=A.Selector._tokenize(D);if(!E.item){for(var F=0,B=E.length;F<B;++F){if(!E[F].tagName){G=A.Selector.document.getElementById(E[F]);if(G){E[F]=G;}else{}}}}C=A.Selector._filter(E,A.Selector._tokenize(D)[0]);return C;},_filter:function(E,G,H,D){var C=H?null:[],I=A.Selector._foundCache;for(var F=0,B=E.length;F<B;F++){if(!A.Selector._test(E[F],"",G,D)){continue;}if(H){return E[F];}if(D){if(E[F]._found){continue;}E[F]._found=true;I[I.length]=E[F];}C[C.length]=E[F];}return C;},query:function(C,D,E){var B=A.Selector._query(C,D,E);return B;},_query:function(H,M,N,F){var P=(N)?null:[],E;if(!H){return P;}var D=H.split(",");if(D.length>1){var O;for(var I=0,J=D.length;I<J;++I){O=A.Selector._query(D[I],M,N,true);P=N?O:P.concat(O);}A.Selector._clearFoundCache();return P;}if(M&&!M.nodeName){M=A.Selector.document.getElementById(M);if(!M){return P;}}M=M||A.Selector.document;if(M.nodeName!=="#document"){A.Dom.generateId(M);H=M.tagName+"#"+M.id+" "+H;E=M;M=M.ownerDocument;}var L=A.Selector._tokenize(H);var K=L[A.Selector._getIdTokenIndex(L)],B=[],C,G=L.pop()||{};if(K){C=A.Selector._getId(K.attributes);}if(C){E=E||A.Selector.document.getElementById(C);if(E&&(M.nodeName==="#document"||A.Dom.isAncestor(M,E))){if(A.Selector._test(E,null,K)){if(K===G){B=[E];}else{if(K.combinator===" "||K.combinator===">"){M=E;}}}}else{return P;}}if(M&&!B.length){B=M.getElementsByTagName(G.tag);}if(B.length){P=A.Selector._filter(B,G,N,F);}return P;},_clearFoundCache:function(){var E=A.Selector._foundCache;for(var C=0,B=E.length;C<B;++C){try{delete E[C]._found;}catch(D){E[C].removeAttribute("_found");}}E=[];},_getRegExp:function(D,B){var C=A.Selector._regexCache;B=B||"";if(!C[D+B]){C[D+B]=new RegExp(D,B);}return C[D+B];},_getChildren:function(){if(document.documentElement.children&&document.documentElement.children.tags){return function(C,B){return(B)?C.children.tags(B):C.children||[];};}else{return function(F,C){var E=[],G=F.childNodes;for(var D=0,B=G.length;D<B;++D){if(G[D].tagName){if(!C||G[D].tagName===C){E.push(G[D]);}}}return E;};}}(),_combinators:{" ":function(C,B){while((C=C.parentNode)){if(A.Selector._test(C,"",B.previous)){return true;}}return false;},">":function(C,B){return A.Selector._test(C.parentNode,null,B.previous);},"+":function(D,C){var B=D.previousSibling;while(B&&B.nodeType!==1){B=B.previousSibling;}if(B&&A.Selector._test(B,null,C.previous)){return true;}return false;},"~":function(D,C){var B=D.previousSibling;while(B){if(B.nodeType===1&&A.Selector._test(B,null,C.previous)){return true;}B=B.previousSibling;}return false;}},_getNth:function(C,L,N,G){A.Selector._re.nth.test(L);var K=parseInt(RegExp.$1,10),B=RegExp.$2,H=RegExp.$3,I=parseInt(RegExp.$4,10)||0,M=[],E;var J=A.Selector._getChildren(C.parentNode,N);if(H){K=2;E="+";B="n";I=(H==="odd")?1:0;}else{if(isNaN(K)){K=(B)?1:0;}}if(K===0){if(G){I=J.length-I+1;}if(J[I-1]===C){return true;}else{return false;}}else{if(K<0){G=!!G;K=Math.abs(K);}}if(!G){for(var D=I-1,F=J.length;D<F;D+=K){if(D>=0&&J[D]===C){return true;}}}else{for(var D=J.length-I,F=J.length;D>=0;D-=K){if(D<F&&J[D]===C){return true;}}}return false;},_getId:function(C){for(var D=0,B=C.length;D<B;++D){if(C[D][0]=="id"&&C[D][1]==="="){return C[D][2];
}}},_getIdTokenIndex:function(D){for(var C=0,B=D.length;C<B;++C){if(A.Selector._getId(D[C].attributes)){return C;}}return -1;},_patterns:{tag:/^((?:-?[_a-z]+[\w-]*)|\*)/i,attributes:/^\[([a-z]+\w*)+([~\|\^\$\*!=]=?)?['"]?([^\]]*?)['"]?\]/i,pseudos:/^:([-\w]+)(?:\(['"]?(.+)['"]?\))*/i,combinator:/^\s*([>+~]|\s)\s*/},_tokenize:function(B){var D={},H=[],I,G=false,F=A.Selector._patterns,C;B=A.Selector._replaceShorthand(B);do{G=false;for(var E in F){if(YAHOO.lang.hasOwnProperty(F,E)){if(E!="tag"&&E!="combinator"){D[E]=D[E]||[];}if((C=F[E].exec(B))){G=true;if(E!="tag"&&E!="combinator"){if(E==="attributes"&&C[1]==="id"){D.id=C[3];}D[E].push(C.slice(1));}else{D[E]=C[1];}B=B.replace(C[0],"");if(E==="combinator"||!B.length){D.attributes=A.Selector._fixAttributes(D.attributes);D.pseudos=D.pseudos||[];D.tag=D.tag?D.tag.toUpperCase():"*";H.push(D);D={previous:D};}}}}}while(G);return H;},_fixAttributes:function(C){var D=A.Selector.attrAliases;C=C||[];for(var E=0,B=C.length;E<B;++E){if(D[C[E][0]]){C[E][0]=D[C[E][0]];}if(!C[E][1]){C[E][1]="";}}return C;},_replaceShorthand:function(C){var D=A.Selector.shorthand;var E=C.match(A.Selector._re.attr);if(E){C=C.replace(A.Selector._re.attr,"REPLACED_ATTRIBUTE");}for(var G in D){if(YAHOO.lang.hasOwnProperty(D,G)){C=C.replace(A.Selector._getRegExp(G,"gi"),D[G]);}}if(E){for(var F=0,B=E.length;F<B;++F){C=C.replace("REPLACED_ATTRIBUTE",E[F]);}}return C;}};if(YAHOO.env.ua.ie&&YAHOO.env.ua.ie<8){A.Selector.attrAliases["class"]="className";A.Selector.attrAliases["for"]="htmlFor";}})();YAHOO.register("selector",YAHOO.util.Selector,{version:"2.8.0r4",build:"2449"});
/** /common/js/yui2.8/build/event-delegate/event-delegate-min.js **/
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.8.0r4
*/
(function(){var A=YAHOO.util.Event,C=YAHOO.lang,B=[],D=function(H,E,F){var G;if(!H||H===F){G=false;}else{G=YAHOO.util.Selector.test(H,E)?H:D(H.parentNode,E,F);}return G;};C.augmentObject(A,{_createDelegate:function(F,E,G,H){return function(I){var J=this,N=A.getTarget(I),L=E,P=(J.nodeType===9),Q,K,O,M;if(C.isFunction(E)){Q=E(N);}else{if(C.isString(E)){if(!P){O=J.id;if(!O){O=A.generateId(J);}M=("#"+O+" ");L=(M+E).replace(/,/gi,(","+M));}if(YAHOO.util.Selector.test(N,L)){Q=N;}else{if(YAHOO.util.Selector.test(N,((L.replace(/,/gi," *,"))+" *"))){Q=D(N,L,J);}}}}if(Q){K=Q;if(H){if(H===true){K=G;}else{K=H;}}return F.call(K,I,Q,J,G);}};},delegate:function(F,J,L,G,H,I){var E=J,K,M;if(C.isString(G)&&!YAHOO.util.Selector){return false;}if(J=="mouseenter"||J=="mouseleave"){if(!A._createMouseDelegate){return false;}E=A._getType(J);K=A._createMouseDelegate(L,H,I);M=A._createDelegate(function(P,O,N){return K.call(O,P,N);},G,H,I);}else{M=A._createDelegate(L,G,H,I);}B.push([F,E,L,M]);return A.on(F,E,M);},removeDelegate:function(F,J,I){var K=J,H=false,G,E;if(J=="mouseenter"||J=="mouseleave"){K=A._getType(J);}G=A._getCacheIndex(B,F,K,I);if(G>=0){E=B[G];}if(F&&E){H=A.removeListener(E[0],E[1],E[3]);if(H){delete B[G][2];delete B[G][3];B.splice(G,1);}}return H;}});}());YAHOO.register("event-delegate",YAHOO.util.Event,{version:"2.8.0r4",build:"2449"});
/** /common/js/eus/tableservicesUI.js **/
YAHOO.namespace("aff");var RENDER_DATA="renderProductData";var TRANSPOSE="transpose";var SORT="sort";var HDR_SORT="hdrsort";var CLEAR_SORT="clearSort";var SHOW_COL="showcol";var HIDE_COL="hidecol";var SHOW_HDR_COL="showhdr";var HIDE_HDR_COL="hidehdr";var SHOW_ROW="showrow";var HIDE_ROW="hiderow";var COLLAPSE="collapse";var EXPAND="expand";var TOGGLE_SHOW_HIDDEN="showHidden";var SHIFT="shift";var RESET="reset";var TOGGLE_TT="togglett";var MOVE_HDR_LEFT="hdrleft";var MOVE_HDR_RIGHT="hdrright";var MOVE_LEFT="left";var MOVE_RIGHT="right";var MOVE_UP="up";var MOVE_DOWN="down";var CHANGE_HEADER_SELECTION="chs";var CHANGE_TOP_HEADER_SELECTION="cths";var OPEN_COL_FILTER="showFF";var OPEN_HDR_FILTER="showHF";var FILTER_FIELD="filterField";var FILTER_HDR="filterHdr";var RENDER_CHART="rc";var RENDER_CHART_FROM_BOOKMARK="rcbkmk";var RENDER_CHART_CONTROLS="rcc";var CHANGE_CHART_SERIES="ccs";var RESET_CHART="resChart";var RESET_MAP="resMap";var SET_ACTIVE_MAP="sam";var TOGGLE_SS="toggless";var CHANGE_STAT_SIG_DIMENSION="cstsig";var OPEN_ADV_SORT="advSortDlg";var ADV_SORT="advSort";var TRANSITION_TO_MAP="toMap";var TRANSITION_TO_CHART="toChart";var ADD_DATA_FOR_CHART="acdata";var BASE_TS_URL="/tablerestful/tableServices/";var DOCUMENT_RENDER_URL="/rest/viewDocument/document";var NP_RENDER_URL="/rest/narrativeProfile/get";var NP_RENDER_CHANGE_HEADER_SELECTION="/rest/narrativeProfile/chs?";var RENDER_MULTI_CHART="rmc";var CHART_URL="/chartrestful/chartServices/"+RENDER_CHART+"?log=t";var RENDER_MULTI_CHART_URL="/chartrestful/chartServices/"+RENDER_MULTI_CHART+"?";var CHART_CONTROLS_URL="/chartrestful/chartServices/"+RENDER_CHART_CONTROLS;var CHANGE_CHART_SERIES_URL="/chartrestful/chartServices/"+CHANGE_CHART_SERIES+"?";var RENDER_CHART_FROM_BOOKMARK_URL="/chartrestful/chartServices/"+RENDER_CHART_FROM_BOOKMARK+"?log=t&src=bkmk";var RESET_CHART_URL=BASE_TS_URL+RESET_CHART;var RESET_MAP_URL=BASE_TS_URL+RESET_MAP;var SET_ACTIVE_MAP_URL=BASE_TS_URL+SET_ACTIVE_MAP;var TABLE_DATA_RENDER_URL=BASE_TS_URL+RENDER_DATA;var TABLE_TRANSPOSE_URL=BASE_TS_URL+TRANSPOSE+"?";var TOGGLE_TABLE_TOOLS_URL=BASE_TS_URL+TOGGLE_TT+"?";var TOGGLE_SS_URL=BASE_TS_URL+TOGGLE_SS+"?";var SHOW_COL_URL=BASE_TS_URL+SHOW_COL+"?";var HIDE_COL_URL=BASE_TS_URL+HIDE_COL+"?";var SHOW_HDR_COL_URL=BASE_TS_URL+SHOW_HDR_COL+"?";var HIDE_HDR_COL_URL=BASE_TS_URL+HIDE_HDR_COL+"?";var SHOW_ROW_URL=BASE_TS_URL+SHOW_ROW+"?";var HIDE__ROW_URL=BASE_TS_URL+HIDE_ROW+"?";var COLLAPSE_URL=BASE_TS_URL+COLLAPSE+"?";var EXPAND_URL=BASE_TS_URL+EXPAND+"?";var TOGGLE_SHOW_HIDDEN_URL=BASE_TS_URL+TOGGLE_SHOW_HIDDEN+"?";var SHIFT_URL=BASE_TS_URL+SHIFT+"?";var RESET_URL=BASE_TS_URL+RESET+"?";var MOVE_HDR_LEFT_URL=BASE_TS_URL+MOVE_HDR_LEFT+"?";var MOVE_HDR_RIGHT_URL=BASE_TS_URL+MOVE_HDR_RIGHT+"?";var MOVE_LEFT_URL=BASE_TS_URL+MOVE_LEFT+"?";var MOVE_RIGHT_URL=BASE_TS_URL+MOVE_RIGHT+"?";var MOVE_UP_URL=BASE_TS_URL+MOVE_UP+"?";var MOVE_DOWN_URL=BASE_TS_URL+MOVE_DOWN+"?";var CHANGE_HEADER_SELECTION_URL=BASE_TS_URL+CHANGE_HEADER_SELECTION+"?";var CHANGE_TOP_HEADER_SELECTION_URL=BASE_TS_URL+CHANGE_TOP_HEADER_SELECTION+"?";var SORT_URL=BASE_TS_URL+SORT+"?";var HDR_SORT_URL=BASE_TS_URL+HDR_SORT+"?";var CLEAR_SORT_URL=BASE_TS_URL+CLEAR_SORT+"?";var OPEN_COL_FILTER_URL=BASE_TS_URL+OPEN_COL_FILTER+"?";var FILTER_FILED_URL=BASE_TS_URL+FILTER_FIELD+"?";var OPEN_HDR_FILTER_URL=BASE_TS_URL+OPEN_HDR_FILTER+"?";var FILTER_HDR_URL=BASE_TS_URL+FILTER_HDR+"?";var TRANSITION_TO_MAP_URL="/service/userSession/v1/transitionToThematicMap?";var TRANSITION_TO_CHART_URL=BASE_TS_URL+TRANSITION_TO_CHART+"?";var ADD_DATA_FOR_CHART_URL=BASE_TS_URL+ADD_DATA_FOR_CHART+"?";var CHANGE_STAT_SIG_DIMENSION_URL=BASE_TS_URL+CHANGE_STAT_SIG_DIMENSION+"?";var OPEN_ADV_SORT_URL=BASE_TS_URL+OPEN_ADV_SORT+"?";var ADV_SORT_URL=BASE_TS_URL+ADV_SORT+"?";var prodId=null;var hcatId=null;var vcatId=null;var tableToolsEnabled="false";var showHideEnabled="false";var currentActiveAction=null;var productTabView=null;var mapRendered=false;var chartRendered=false;var productJSON=null;var tableMode=true;var tableTab=null;var mapTab=null;var chartTab=null;var loadThematicMap=function(c){if(c){document.getElementById("map-tab").style.visibility="visible";document.getElementById("map-tab").style.display="inline-block"}var a=document.getElementById("tab_map");initMap(a,"eus.thematic.map",true,c);mapRendered=true;window.scrollTo(0,0);var b=SET_ACTIVE_MAP_URL;b+="?summaryLevel="+c.details.geoSumLevelVariantCompCode.substring(0,3)+"&geoCount="+c.data.rowCount+"&category="+c.details.valueFullyQualifiedLabel+"&log=t";if(getParameter("src")!="null"){b+="&src="+getParameter("src")}_showWaitPanel(SET_ACTIVE_MAP);YAHOO.util.Connect.asyncRequest("GET",b,{success:function(d){_hideWaitPanel(SET_ACTIVE_MAP)},failure:function(d){_hideWaitPanel(SET_ACTIVE_MAP)}})};var handleTransitionToMapFailure=function(a){alert("TRANSITION TO MAP FAILED");_hideWaitPanel(TRANSITION_TO_MAP)};var renderMapTransitionFromBookmarkCallback={success:function(a){handleTransitionToMapSuccess(a,true)},failure:handleTransitionToMapFailure};var loadThematicMapFromBookmark=function(a){var b=TRANSITION_TO_MAP_URL+"catSetId="+a;_showWaitPanel(TRANSITION_TO_MAP);YAHOO.util.Connect.asyncRequest("GET",b+"&log=t",renderMapTransitionFromBookmarkCallback)};var handleMapLoadError=function(){removeMap(true);renderTable()};var switchThematicData=function(){productTabView.set("activeIndex",0);createThematicMap();document.getElementById("legend").click()};var openTablenotes=function(){var a=productJSON.ProductData;if(productTabView&&productTabView.get("activeIndex")==0){if(!YAHOO.util.Dom.hasClass(document.getElementById("view-notes-table"),"disabled")){__initTableNotes();__openTablenotes(a.layoutHeaderNotes,a.headerNotes,a.layoutFooterNotes,a.footerNotes)}}else{if(productTabView&&productTabView.get("activeIndex")==1){if(!YAHOO.util.Dom.hasClass(document.getElementById("view-notes"),"disabled")){__initTableNotes();__openTablenotes(a.layoutHeaderNotes,a.headerNotes,a.layoutFooterNotes,a.footerNotes)}}}};var __renderProduct=function(n){_hideWaitPanel(currentActiveAction);if(n!=null){n=n.trim()}else{n=""}if(n!=""&&n!="null"&&n.length>0){try{productJSON=YAHOO.lang.JSON.parse(n)}catch(d){if(!maybeAuthenticationRequired(n)){affExceptionAlert("JSON parsing failed ... "+d.message)}}if(productJSON&&productJSON.Exception!=null){handleException(productJSON.Exception)}else{if(productJSON.ProductData.isDocument=="true"){__renderDocument(productJSON)}else{if(productJSON.ProductData.isNP=="true"){__renderNP(productJSON)}else{__renderTable(productJSON)}}if(productJSON.ProductData.eusbreadcrumb&&document.getElementById("breadcrumb")){document.getElementById("breadcrumb").innerHTML=productJSON.ProductData.eusbreadcrumb}if(productJSON.ProductData.currentContext&&productJSON.ProductData.currentContext=="datafinder"){var h="";if(productJSON.ProductData.previousProductId){if(productJSON.ProductData.previousProductType=="narrative_profile"){h="<a href=\"javascript:getNPData('"+productJSON.ProductData.previousProductId+'\', false)"><img src="/common/img/left1.gif" width="9" height="11" alt="'+getI18text("product_view_previous")+'" /></a>'}else{if(productJSON.ProductData.previousProductType=="document"){h="<a href=\"javascript:getDocumentData('"+productJSON.ProductData.previousProductId+'\', false)"><img src="/common/img/left1.gif" width="9" height="11" alt="'+getI18text("product_view_previous")+'" /></a>'}else{h="<a href=\"javascript:getProductData('"+productJSON.ProductData.previousProductId+'\',null, null, null, null, false)"><img src="/common/img/left1.gif" width="9" height="11" alt="'+getI18text("product_view_previous")+'" /></a>'}}}else{h='<a href="#" class="disabled"><img src="/common/img/left1.gif" width="9" height="11" alt="'+getI18text("product_view_previous")+'" /></a>'}var m=productJSON.ProductData.currentProductIndex;var i="<span>"+getI18text("product_view_results")+" "+m+" "+getI18text("product_view_of")+" "+productJSON.ProductData.totalProductsInSelection+"</span>";var l="";if(productJSON.ProductData.nextProductId){if(productJSON.ProductData.nextProductType=="narrative_profile"){l="<a href=\"javascript:getNPData('"+productJSON.ProductData.nextProductId+'\', false)"><img src="/common/img/right1.gif" width="9" height="11" alt="'+getI18text("product_view_next")+'" /></a>'}else{if(productJSON.ProductData.nextProductType=="document"){l="<a href=\"javascript:getDocumentData('"+productJSON.ProductData.nextProductId+'\', false)"><img src="/common/img/right1.gif" width="9" height="11" alt="'+getI18text("product_view_next")+'" /></a>'}else{l="<a href=\"javascript:getProductData('"+productJSON.ProductData.nextProductId+'\',null, null, null, null, false)"><img src="/common/img/right1.gif" width="9" height="11" alt="'+getI18text("product_view_next")+'" /></a>'}}}else{l='<a href="#" class="disabled"><img src="/common/img/right1.gif" width="9" height="11" alt="'+getI18text("product_view_next")+'" /></a>'}var c='<a href="javascript:viewAll()" style="margin-left: 20px;" title="'+getI18text("view_all_title")+'">'+getI18text("view_all")+"</a>";var f=document.getElementById("results-nav");f.innerHTML=h+i+l+c}var k=document.getElementById("back-to-search-results");if(productJSON.ProductData.isNP=="true"){k=document.getElementById("back-to-search-results-np")}if(productJSON.ProductData.isDocument=="true"){k=document.getElementById("back-to-search-results-doc")}if(k){var a='<div class="back-to-search-results button-g"> <a href="javascript:processTransition(\''+productJSON.ProductData.currentContext+'\');"><img width="9" height="11" style="margin-right: 8px;" alt="" src="/common/img/left1.gif">'+getI18text("bread_crumb_back_to")+" "+productJSON.ProductData.backToBreadcrumbTitle+"</a> </div>";k.innerHTML=a}var g=productJSON.ProductData.currentProductType+"."+productJSON.ProductData.productRecSpec;var e="&#160;<a href=\"javascript:openMetadata('"+productJSON.ProductData.currentProductType+"','"+g+'\')"><img src="/common/img/infoicon.gif" width="16" height="16" alt="'+getI18text("more_info")+'" /></a>';var b="American FactFinder - ";if(productJSON.ProductData.displayID&&productJSON.ProductData.displayID.length>0){document.getElementById("prodid").innerHTML=productJSON.ProductData.displayID;b=b+productJSON.ProductData.displayID}document.getElementById("product-dataset").innerHTML=productJSON.ProductData.productDataset;if(productJSON.ProductData.universe&&productJSON.ProductData.universe.length>0){document.getElementById("product-name").innerHTML=productJSON.ProductData.displayLabel;document.getElementById("universe").innerHTML=getI18text("universe")+": "+productJSON.ProductData.universe+" "+e+"<br />"}else{document.getElementById("product-name").innerHTML=productJSON.ProductData.displayLabel+" "+e;document.getElementById("universe").innerHTML=""}b=b+" - "+productJSON.ProductData.displayLabel;b=b+" :: "+productJSON.ProductData.productDataset;var j=YAHOO.util.Dom.get("addRemoveGeo_btn");if(j){if(productJSON.ProductData.currentContext&&(productJSON.ProductData.currentContext=="datafinder"||productJSON.ProductData.currentContext=="navwiz")){if(productJSON.ProductData.totalProductsInSelection==1){j.title=getI18text("addRemoveGeoBtn_enabled_title");YAHOO.util.Event.purgeElement(j);YAHOO.util.Event.on(j,"click",function(o){openAddRemoveGeoOverlay(productJSON.ProductData.resetGeoOverlay)})}else{j.title=getI18text("addRemoveGeoBtn_disabled_title");YAHOO.util.Dom.addClass(j,"disabled")}}else{YAHOO.util.Dom.setStyle(j,"display","none");YAHOO.util.Dom.setStyle("addRemoveGeo_btn_separator","display","none")}}}}};var __renderDocument=function(b){var a=document.getElementById("documentDisplay");document.getElementById("tableDisplay").style.display="none";document.getElementById("tableDisplay").style.visibility="hidden";document.getElementById("npDisplay").style.display="none";document.getElementById("npDisplay").style.visibility="hidden";a.style.display="block";a.style.visibility="visible";a.innerHTML=b.ProductData.productDataTable};var __renderNP=function(b){var a=document.getElementById("npDisplay");document.getElementById("tableDisplay").style.display="none";document.getElementById("tableDisplay").style.visibility="hidden";document.getElementById("documentDisplay").style.display="none";document.getElementById("documentDisplay").style.visibility="hidden";a.style.display="block";a.style.visibility="visible";document.getElementById("np1").innerHTML=b.ProductData.productDataTable;if(!productTabView){productTabView=new YAHOO.widget.TabView("resulttabs");productTabView.getTab(1).set("disabled",true);productTabView.getTab(2).set("disabled",true)}productTabView.set("activeIndex",0);prepareNPDownloadPrintDialog()};var __renderTable=function(e){var h=YAHOO.util.Dom;var j=YAHOO.util.Event;document.getElementById("documentDisplay").style.display="none";document.getElementById("documentDisplay").style.visibility="hidden";document.getElementById("npDisplay").style.display="none";document.getElementById("npDisplay").style.visibility="hidden";document.getElementById("tableDisplay").style.display="block";document.getElementById("tableDisplay").style.visibility="visible";var f=document.getElementById("tableToolText");tableToolsEnabled=e.ProductData.tableToolsEnabled;if(!productTabView){productTabView=new YAHOO.widget.TabView("resulttabs");productTabView.getTab(1).set("disabled",true);productTabView.getTab(2).set("disabled",true);productTabView.getTab(1).addListener("activeChange",function(m){if(m.newValue){document.body.style.width="100%"}});productTabView.addListener("activeIndexChange",setProductDownloadAttrs)}tableTab=productTabView.getTab(0);mapTab=productTabView.getTab(1);chartTab=productTabView.getTab(2);if(chartTab){chartTab.addListener("click",prepareForChart)}tableTab.addListener("click",renderTable);var k="ab-modify";if(e.ProductData.tableToolsAvailable=="false"||(e.ProductData.tableModified=="false"&&e.ProductData.noDataFound=="true")){k+=" disabled"}if(e.ProductData.requestRejected){affAlert(e.ProductData.requestRejectionMessage);h.addClass("dnld_btn","disabled")}if(e.ProductData.renderForMap=="true"){if(chartTab){chartTab.set("disabled",true)}tableTab.removeListener("click",renderTable);h.addClass("chart_btn","disabled");h.addClass("remove_chart_btn","disabled");if(mapRendered){productTabView.set("activeIndex",1);tableTab.addListener("click",renderTable)}else{tableMode=false;productTabView.set("activeIndex",0);document.getElementById("remove_map_btn").style.display="none";document.getElementById("remove_map_btn").style.visibility="hidden";document.getElementById("map_btn").style.visibility="visible";document.getElementById("map_btn").style.display="inline-block"}k+=" disabled"}if(e.ProductData.renderForChart=="true"){mapTab.removeListener("click",prepareForThematicMap);tableTab.removeListener("click",renderTable);if(chartRendered){productTabView.set("activeIndex",2);tableTab.addListener("click",renderTable)}else{tableMode=false;productTabView.set("activeIndex",0);mapTab.addListener("click",prepareForThematicMap);document.getElementById("chart-instruction").style.display="block";document.getElementById("chart-instruction").style.visibility="visible"}k+=" disabled"}if(e.ProductData.renderForMap!="true"&&e.ProductData.renderForChart!="true"){document.getElementById("map-instruction").style.display="none";document.getElementById("map-instruction").style.visibility="hidden";document.getElementById("chart-instruction").style.display="none";document.getElementById("chart-instruction").style.visibility="hidden";if(e.ProductData.tableModified=="true"&&e.ProductData.tableToolsAvailable=="true"){h.removeClass("modify_btn","disabled")}else{h.addClass("modify_btn","disabled")}h.removeClass("bookmark_btn","disabled");h.removeClass("dnld_btn","disabled");h.removeClass("print_btn","disabled");h.removeClass("map_dnld_btn","disabled");h.removeClass("map_print_btn","disabled");h.removeClass("chart_btn","disabled");h.removeClass("remove_chart_btn","disabled");h.removeClass("statsig_btn","disabled");h.removeClass("bookmark_textbox","disabled");prepareTableDownloadPrintDialog()}else{h.addClass("statsig_btn","disabled")}var a;if(tableToolsEnabled=="true"){a=getI18text("DISABLE_TABLE_TOOLS_TITLE");h.addClass("map_btn","disabled");h.addClass("remove_map_btn","disabled");h.addClass("statsig_btn","disabled");h.addClass("chart_btn","disabled");h.addClass("remove_chart_btn","disabled")}else{a=getI18text("ENABLE_TABLE_TOOLS_TITLE")}var i='<a id="modify_btn" class="'+k+'" href="javascript:toggleTT()" title="'+a+'" onmouseover="ab_in(this)" onmouseout="ab_out(this)"><span></span> ';if(e.ProductData.statsigSupported&&e.ProductData.statsigSupported=="false"){h.setStyle("statsig_btn_sep","visibility","hidden");h.setStyle("statsig_btn","visibility","hidden")}else{h.setStyle("statsig_btn_sep","visibility","visible");h.setStyle("statsig_btn","visibility","visible");var d;var b=e.ProductData.statsigEnabled;var c="ab-datavalue";if(b=="true"){d=getI18text("without_statsig_title");h.addClass("chart_btn","disabled");h.addClass("remove_chart_btn","disabled")}else{d=getI18text("with_statsig_title")}var g='<a href="javascript:toggleStatSig()" id="statsig_btn" class="'+c+'" title="'+d+'" onmouseover="ab_in(this)" onmouseout="ab_out(this)"><span></span> ';g+=d+"</a>";document.getElementById("stat_sig").innerHTML=g}if(e.ProductData.mappable&&e.ProductData.mappable=="false"){h.addClass("map_btn","disabled");map_btn.title=getI18text("disabled_thematic_map_button_title");if(mapTab){mapTab.set("disabled",true);mapTab.removeListener("click",prepareForThematicMap)}}else{if(tableToolsEnabled!="true"&&e.ProductData.renderForChart!="true"){h.removeClass("map_btn","disabled")}if(e.ProductData.renderForMap=="true"){h.addClass("statsig_btn","disabled")}else{h.removeClass("statsig_btn","disabled")}if(mapTab){mapTab.addListener("click",prepareForThematicMap);mapTab.set("disabled",false)}}if(e.ProductData.noDataFound&&e.ProductData.noDataFound=="true"){h.addClass("map_btn","disabled");h.addClass("chart_btn","disabled");h.addClass("remove_chart_btn","disabled")}showHideEnabled=e.ProductData.showHideEnabled;if(tableToolsEnabled=="true"){i+=getI18text("DISABLE_TABLE_TOOLS")}else{i+=getI18text("ENABLE_TABLE_TOOLS")}i+="</a>";f.innerHTML=i;if(e.ProductData.downloadOnly=="true"){h.addClass("modify_btn","disabled");h.addClass("bookmark_btn","disabled");document.getElementById("downloadOnlyMsg").style.visibility="visible";document.getElementById("downloadOnlyMsg").style.display="block"}else{document.getElementById("downloadOnlyMsg").style.visibility="hidden";document.getElementById("downloadOnlyMsg").style.display="none"}var l=h.get("table1");j.purgeElement(l,true);l.innerHTML=e.ProductData.productDataTable;j.delegate(l,"click",function(m){j.stopEvent(m);tip.showTooltip(m,h.getAttribute(this,"data-vo-id"))},"a.balloonlink");j.delegate(l,"mouseover",function(){ab_in(this)},"a.btn");j.delegate(l,"mouseout",function(){ab_out(this)},"a.btn");j.delegate(l,"click",function(p){j.stopEvent(p);var o=this;if(!h.hasClass(this,"ctrl-data")){o=h.getAncestorByClassName(this,"ctrl-data")}var r=h.getAttribute(o,"data-ppath");var n=h.getAttribute(o,"data-cset-id");if(h.hasClass(this,"lmove")){if(r){moveHdrLeft(r)}else{moveLeft(n)}}else{if(h.hasClass(this,"rmove")){if(r){moveHdrRight(r)}else{moveRight(n)}}else{if(h.hasClass(this,"hfilter")){if(r){openHdrFilter(r,"h")}else{openFieldFilter(n,"h")}}else{if(h.hasClass(this,"vfilter")){if(r){openHdrFilter(r,"v")}else{openFieldFilter(n,"v")}}else{if(h.hasClass(this,"hsort")||h.hasClass(this,"vsort")){var q=r||n;var m=h.hasClass(this,"asc")?"asc":(h.hasClass(this,"desc")?"desc":undefined);if(h.hasClass(this,"hsort")){openAdvSort(q,"h",m)}else{openAdvSort(q,"v",m)}}else{if(h.hasClass(this,"hhide")||h.hasClass(this,"vhide")){if(this.checked){if(r){showhdrcol(r)}else{if(h.hasClass(this,"hhide")){showcol(n)}else{showrow(n)}}}else{if(r){hidehdrcol(r)}else{if(h.hasClass(this,"hhide")){hidecol(n)}else{hiderow(n)}}}}else{if(h.hasClass(this,"umove")){moveUp(n)}else{if(h.hasClass(this,"dmove")){moveDown(n)}else{if(h.hasClass(this,"expand")){expand(n)}else{if(h.hasClass(this,"collapse")){collapse(n)}}}}}}}}}}},".ctrl");if(e.ProductData.renderForChart!="true"){initFloatingHeaders()}else{myResize()}if(e.ProductData.chartRendered=="true"&&document.getElementById("chart").innerHTML.trim()!=""){document.getElementById("chart_btn").style.display="none";document.getElementById("chart_btn").style.visibility="hidden";document.getElementById("remove_chart_btn").style.display="inline-block";document.getElementById("remove_chart_btn").style.visibility="visible"}if(e.ProductData.currentProductHasActiveMap&&e.ProductData.currentProductHasActiveMap!="true"){mapTab.setStyle("visibility","hidden");document.getElementById("remove_map_btn").style.display="none";document.getElementById("remove_map_btn").style.visibility="hidden";document.getElementById("map_btn").style.visibility="visible";document.getElementById("map_btn").style.display="inline-block"}else{mapTab.setStyle("visibility","visible");if(mapRendered){if(h.hasClass(document.getElementById("remove_map_btn"),"disabled")){h.removeClass("remove_map_btn","disabled")}document.getElementById("remove_map_btn").style.display="inline-block";document.getElementById("remove_map_btn").style.visibility="visible";document.getElementById("map_btn").style.visibility="hidden";document.getElementById("map_btn").style.display="none"}else{mapTab.setStyle("visibility","hidden");document.getElementById("remove_map_btn").style.display="none";document.getElementById("remove_map_btn").style.visibility="hidden";document.getElementById("map_btn").style.visibility="visible";document.getElementById("map_btn").style.display="inline-block"}}if(chartTab){productTabView.removeTab(chartTab)}};var handleRenderDataSuccess=function(b){var a=b.responseText;__renderProduct(a.replace(/\r/g,"").replace(/\t/g,"").replace(/\n/g,""))};var handleRenderDataFailure=function(a){};var filterOutJamValues=function(b){var a=Object.keys(b.data.header.cells)[0];for(var d=b.data.rows.length-1;d>=0;d--){var c=b.data.rows[d];if(c.cells[a].value===undefined){delete b.data.rows[d];b.data.rowCount--}}};var handleTransitionToMapSuccess=function(e,b){try{var c=YAHOO.lang.JSON.parse(e.responseText);if(c.geoSumLevelVariantCompCode.substring(5)=="00"){var a="/service/map/v1/"+c.langId+"/layers?layerIds="+c.geoSumLevelVariantCompCode.substring(0,5)+"&vintage="+c.geoVintageYear;YAHOO.util.Connect.asyncRequest("GET",a,{success:function(f){try{var h=YAHOO.lang.JSON.parse(f.responseText);if(h.layers&&h.layers.length){var g="/service/map/v1/"+c.langId+"/config";YAHOO.util.Connect.asyncRequest("GET",g,{success:function(n){try{var r=YAHOO.lang.JSON.parse(n.responseText);var p="/service/data/v1/{0}/programs/{1}/datasets/{2}/tables/{3}/data/";var s=c.tableId;var q="/service/data/v1/"+c.langId+c.dataServiceUrlFragment;var j=window.location.protocol+"//"+window.location.host+q;var k=undefined;var t=undefined;var m=undefined;var l=undefined;if(j.length<=2000){k="GET";t=q}else{k="POST";if(c.stubId){s+="."+c.stubId}t=p.format(c.langId,c.programId,c.datasetId,s);m={geoIdsOrCollectionIds:c.geoIdsOrCollectionIds,geoSumLevelVariantCompCode:c.geoSumLevelVariantCompCode,categories:{}};Object.keys(c.otherCategoryIdsByDimId).forEach(function(u){m.categories[u]=[c.otherCategoryIdsByDimId[u]]});l=JSON.stringify(m);YAHOO.util.Connect.setDefaultPostHeader(false);YAHOO.util.Connect.initHeader("Content-Type","application/json")}YAHOO.util.Connect.asyncRequest(k,t,{success:function(y){_hideWaitPanel(TRANSITION_TO_MAP);YAHOO.util.Connect.resetDefaultHeaders();try{var v=YAHOO.lang.JSON.parse(y.responseText);filterOutJamValues(v);if(v.data.rowCount>1){if(v.data.rowCount<r.config.limits.maxGeosPerMap){if(b){loadThematicMap({details:c,data:v.data})}else{var u=function(){this.hide();mapTab=productTabView.getTab(1);mapTab.setStyle("visibility","visible");loadThematicMap({details:c,data:v.data});productTabView.getTab(1).set("disabled",false);productTabView.set("activeIndex",1);productTabView.getTab(0).addListener("click",renderTable)};var z=function(){this.cancel()};var x=new YAHOO.widget.Dialog("select-map-theme-dialog",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,buttons:[{text:getI18text("show_map"),handler:u,isDefault:true},{text:getI18text("form_cancel"),handler:z}]});x.setHeader(getI18text("map_confirmation_dialog_header"));x.setBody("<p>"+getI18text("map_confirmation_dialog_body")+"<b>"+c.valueFullyQualifiedLabel+"</b> by <b>"+c.summaryLevelLabel+"</b></p>");x.render(document.body);x.show()}}else{affAlert(getI18text("map_too_many_geos_error"))}}else{affAlert(getI18text("map_single_geo_error"))}}catch(w){affExceptionAlert("JSON parsing failed ... "+w.message)}},failure:function(u){_hideWaitPanel(TRANSITION_TO_MAP);YAHOO.util.Connect.resetDefaultHeaders();affAlert(getI18text("thematic_map_error"))}},l)}catch(o){_hideWaitPanel(TRANSITION_TO_MAP);affExceptionAlert("JSON parsing failed ... "+o.message)}},failure:function(){_hideWaitPanel(TRANSITION_TO_MAP);affAlert(getI18text("thematic_map_error"))}})}else{_hideWaitPanel(TRANSITION_TO_MAP);affAlert(getI18text("map_geo_component_error"))}}catch(i){_hideWaitPanel(TRANSITION_TO_MAP);affExceptionAlert("JSON parsing failed ... "+i.message)}},failure:function(){_hideWaitPanel(TRANSITION_TO_MAP);affAlert(getI18text("map_config_error"))}})}else{_hideWaitPanel(TRANSITION_TO_MAP);affAlert(getI18text("map_geo_component_error"))}}catch(d){_hideWaitPanel(TRANSITION_TO_MAP);affExceptionAlert("JSON parsing failed ... "+d.message)}};var renderDataCallback={success:handleRenderDataSuccess,failure:handleRenderDataFailure};var renderMapTransitionCallback={success:handleTransitionToMapSuccess,failure:handleTransitionToMapFailure};var handleTransitionToChartSuccess=function(b){_hideWaitPanel(currentActiveAction);if(maybeAuthenticationRequired(b.responseText)){return}if(b.responseText.indexOf("Exception")>0){productJSON=YAHOO.lang.JSON.parse(b.responseText);if(productJSON.Exception!=null){handleException(productJSON.Exception);chartRendered=false;prepareForChart()}}else{var a=function(){this.hide();productTabView.getTab(2).set("disabled",false);productTabView.set("activeIndex",2);productTabView.getTab(0).addListener("click",renderTable);fuseChartAxis("h",true);chartRendered=true};var d=function(){chartRendered=false;this.cancel()};document.getElementById("chartConfirmation").style.display="block";document.getElementById("chartConfirmation").style.visibility="visible";var c=new YAHOO.widget.Dialog("chartConfirmation",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("show_chart"),handler:a,isDefault:true},{text:getI18text("form_cancel"),handler:d}]});document.getElementById("select-chart-theme-dialog").innerHTML=getI18text("chart_confirmation_dialog_body")+b.responseText;c.render(document.body);c.show();chartRendered=false}};var handleTransitionToChartFailure=function(a){_hideWaitPanel(currentActiveAction);alert("TRANSITION TO CHART FAILED")};var renderChartTransitionCallback={success:handleTransitionToChartSuccess,failure:handleTransitionToChartFailure};var handleRenderChartSuccess=function(c){_hideWaitPanel(currentActiveAction);if(maybeAuthenticationRequired(c.responseText)){return}if(c.responseText.indexOf("Exception")>0){productJSON=YAHOO.lang.JSON.parse(c.responseText);if(productJSON.Exception!=null){handleException(productJSON.Exception)}}else{var b=c.responseText;b=getContent(b);var a=document.getElementById("chart");a.innerHTML=b.replace("null","");playScripts();TableAjaxUpdate(RENDER_CHART_CONTROLS,CHART_CONTROLS_URL,false)}};var handleRenderChartFailure=function(a){_hideWaitPanel(currentActiveAction);alert("TRANSITION TO CHART FAILED")};var renderChartCallback={success:handleRenderChartSuccess,failure:handleRenderChartFailure};var handleRenderChartControlSuccess=function(a){_hideWaitPanel(currentActiveAction);if(maybeAuthenticationRequired(a.responseText)){return}if(a.responseText.indexOf("Exception")>0){productJSON=YAHOO.lang.JSON.parse(a.responseText);if(productJSON.Exception!=null){handleException(productJSON.Exception)}}else{document.getElementById("chart_series_actions").innerHTML=a.responseText}};var handleRenderChartControlFailure=function(a){_hideWaitPanel(currentActiveAction);alert("TRANSITION TO CHART FAILED")};var renderChartControlsCallback={success:handleRenderChartControlSuccess,failure:handleRenderChartControlFailure};var handleResetSuccess=function(a){getProductData(prodId)};var handleResetFailure=function(a){affAlert("Reset failed")};var resetCallback={success:handleResetSuccess,failure:handleResetFailure,timeout:500};var filterPanel=new YAHOO.widget.Dialog("FilterPanel",{width:"460px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false});var __submitFilter=function(b){var f="";var a="";var d=document.filterFieldForm.categorySetId.value;var c=document.filterFieldForm.axis.value;if(!b){f=document.filterFieldForm.filter_val1.value;f=f.replace(/,/g,"");if(f&&f.length>0){a=document.filterFieldForm.op.value}}sUrl=FILTER_FILED_URL+"v="+f+"&op="+a+"&cs="+d+"&axis="+c;var e=document.filterFieldForm.filter_val2.value;if(e&&e.length>0){e=e.replace(/,/g,"");sUrl+="&v2="+e}if((!b)&&(isNaN(f)||((e&&e.length>0)&&isNaN(e)))){affAlert(getI18text("nan_filter_msg"))}else{filterPanel.hide();document.getElementById("filter-between").style.display="none";document.getElementById("filter-between").style.visibility="hidden";TableAjaxUpdate(FILTER_FIELD,sUrl)}};var handleFilterSubmit=function(){__submitFilter()};var handleFilterCancel=function(){document.getElementById("filter-between").style.display="none";document.getElementById("filter-between").style.visibility="hidden";filterPanel.hide()};var removeFieldFilter=function(){__submitFilter(true)};var handleOpenFilterSuccess=function(a){_hideWaitPanel(currentActiveAction);filterPanel.setHeader("Filter");filterPanel.setBody(a.responseText);filterPanel.render(document.body);filterPanel.show()};var handleOpenFilterFailure=function(a){_hideWaitPanel(currentActiveAction);affAlert("Open Filter failed")};var openFilterCallback={success:handleOpenFilterSuccess,failure:handleOpenFilterFailure};var filterHdrPanel=new YAHOO.widget.Dialog("FilterHdrPanel",{width:"460px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false});var __submitHdrFilter=function(a){filterHdrPanel.hide();var e=document.filterHeaderForm.dim.value;var b="";if(!a){if(document.filterHeaderForm.cb.length!=undefined){for(var c=0;c<document.filterHeaderForm.cb.length;c++){if(document.filterHeaderForm.cb[c].checked){b+=document.filterHeaderForm.cb[c].value+"|"}}}else{if(document.filterHeaderForm.cb.checked){b+=document.filterHeaderForm.cb.value}}}var d=FILTER_HDR_URL+"fcat="+b+"&dim="+e+"&axis=v";TableAjaxUpdate(FILTER_HDR,d)};var removeHeaderFilter=function(){__submitHdrFilter(true)};var handleHdrFilterSubmit=function(){__submitHdrFilter()};var handleHdrFilterCancel=function(){filterHdrPanel.cancel()};var handleOpenHdrFilterSuccess=function(a){_hideWaitPanel(currentActiveAction);filterHdrPanel.setHeader("Filter Dimension");filterHdrPanel.setBody(a.responseText);filterHdrPanel.render(document.body);filterHdrPanel.show();var b=[{key:"check",label:"",formatter:YAHOO.widget.DataTable.formatDate,sortable:false},{key:"value",label:"Code",sortable:true},{key:"meaning",label:"Meaning",sortable:false}];this.myDataSource=new YAHOO.util.DataSource(YAHOO.util.Dom.get("header-filter"));this.myDataSource.responseType=YAHOO.util.DataSource.TYPE_HTMLTABLE;this.myDataSource.responseSchema={fields:[{key:"check"},{key:"value"},{key:"meaning"}]};this.myDataTable=new YAHOO.widget.DataTable("header-filter-div",b,this.myDataSource,{sortedBy:{key:"value",dir:"asc"}})};var handleOpenHdrFilterFailure=function(a){_hideWaitPanel(currentActiveAction);affAlert("Open Filter failed")};var openHdrFilterCallback={success:handleOpenHdrFilterSuccess,failure:handleOpenHdrFilterFailure};var advSortPanel=new YAHOO.widget.Dialog("advSortPanel",{fixedcenter:true,draggable:true,zindex:4,close:false,modal:true,visible:false});var __submitAdvSort=function(g){var b=document.advSortForm.advSortAxis.value;var h="";var e=[];var j=[];if(!g){for(var f=0;f<3;f++){var d=null;var c=null;if(document.getElementById("sortbyterm"+f)){d=document.getElementById("sortbyterm"+f).value}if(document.getElementById("direction"+f)){c=document.getElementById("direction"+f).value}if(e.indexOf(d)<0){h+="&term"+f+"="+d;h+="&dir"+f+"="+c;e[f]=d;j[f]=c}}}var a=ADV_SORT_URL+"axis="+b+h;document.getElementById("sort-dialog").style.visibility="hidden";document.getElementById("sort-dialog").style.display="none";TableAjaxUpdate(ADV_SORT,a)};var clearAdvSort=function(){__submitAdvSort(true);advSortPanel.hide()};var selectedSorts=new Array();var checkSortSelection=function(a,b){};var visibleRowCount=0;var removeSortFilter=function(a){visibleRowCount-=1;document.getElementById("sortbyterm"+a).value="";YAHOO.util.Dom.addClass("sort-row-"+a,"hidden");if(visibleRowCount<3){YAHOO.util.Dom.removeClass("sort-add-column","disabled")}if(visibleRowCount<=1){YAHOO.util.Dom.addClass("sort-dialog","row-remove-disabled")}};var handleAdvSortSubmit=function(){advSortPanel.hide();__submitAdvSort(false)};var handleAdvSortCancel=function(){document.getElementById("sort-dialog").style.visibility="hidden";document.getElementById("sort-dialog").style.display="none";advSortPanel.cancel()};var handleOpenAdvSortSuccess=function(c){_hideWaitPanel(currentActiveAction);if(maybeAuthenticationRequired(c.responseText)){return}var b=YAHOO.lang.JSON.parse(c.responseText);if(b.Exception!=null){handleException(b.Exception)}advSortPanel.setHeader(getI18text("sortHdr"));advSortPanel.setBody(b.ProductSortData.sortDialog);advSortPanel.render(document.body);visibleRowCount=b.ProductSortData.activeSortTermCount;for(var a=0;a<3;a++){if(a>=visibleRowCount){YAHOO.util.Dom.addClass("sort-row-"+a,"hidden")}}if(visibleRowCount>=3){YAHOO.util.Dom.addClass("sort-add-column","disabled")}if(visibleRowCount<=1){YAHOO.util.Dom.addClass("sort-dialog","row-remove-disabled")}advSortPanel.show()};var addSortColumn=function(){visibleRowCount+=1;var d=0;for(var c=0;c<3;c++){if(!YAHOO.util.Dom.hasClass("sort-row-"+c,"hidden")){d++}}var b=0;while(visibleRowCount<=3&&b<visibleRowCount){if(!YAHOO.util.Dom.hasClass("sort-row-"+b,"hidden")){b+=1}else{YAHOO.util.Dom.removeClass("sort-row-"+b,"hidden");var f=b;for(var a=b+1;a<3;a++){if(!YAHOO.util.Dom.hasClass("sort-row-"+a,"hidden")){var e=a;document.getElementById("sortbyterm"+f).selectedIndex=document.getElementById("sortbyterm"+e).selectedIndex;document.getElementById("direction"+f).selectedIndex=document.getElementById("direction"+e).selectedIndex;document.getElementById("sortbyterm"+e).selectedIndex=0;document.getElementById("direction"+e).selectedIndex=0;f=e}}b+=1;d+=1}if(d==visibleRowCount){break}}if(visibleRowCount>=3){visibleRowCount=3;YAHOO.util.Dom.addClass("sort-add-column","disabled")}YAHOO.util.Dom.removeClass("sort-dialog","row-remove-disabled")};var handleOpenAdvSortFailure=function(a){_hideWaitPanel(currentActiveAction);affAlert("Open Sort Dialog failed")};var openAdvSortCallback={success:handleOpenAdvSortSuccess,failure:handleOpenAdvSortFailure};var nullTSCallback={success:function(a){_hideWaitPanel(currentActiveAction)},failure:function(a){}};var TableAjaxUpdate=function(d,b,a){tip.cleanup();if(a||a==null){_showWaitPanel(d)}currentActiveAction=d;b=addTSParam(b,true);var c=null;appendComponent(d,b);switch(d){case SHOW_COL:case HIDE_COL:case SHOW_HDR_COL:case HIDE_HDR_COL:case SHOW_ROW:case HIDE_ROW:case RESET:mapRendered=false;c=YAHOO.util.Connect.asyncRequest("GET",b,renderDataCallback);break;case RENDER_DATA:case TRANSPOSE:case SORT:case HDR_SORT:case CLEAR_SORT:case TOGGLE_TT:case COLLAPSE:case EXPAND:case TOGGLE_SHOW_HIDDEN:case SHIFT:case MOVE_HDR_LEFT:case MOVE_HDR_RIGHT:case MOVE_LEFT:case MOVE_RIGHT:case MOVE_UP:case MOVE_DOWN:case CHANGE_HEADER_SELECTION:case CHANGE_TOP_HEADER_SELECTION:case FILTER_FIELD:case TOGGLE_SS:case RESET_CHART:case RESET_MAP:case CHANGE_STAT_SIG_DIMENSION:case ADV_SORT:case FILTER_HDR:c=YAHOO.util.Connect.asyncRequest("GET",b,renderDataCallback);break;case OPEN_COL_FILTER:c=YAHOO.util.Connect.asyncRequest("GET",b,openFilterCallback);break;case OPEN_HDR_FILTER:c=YAHOO.util.Connect.asyncRequest("GET",b,openHdrFilterCallback);break;case OPEN_ADV_SORT:c=YAHOO.util.Connect.asyncRequest("GET",b,openAdvSortCallback);break;case TRANSITION_TO_MAP:c=YAHOO.util.Connect.asyncRequest("GET",b,renderMapTransitionCallback);break;case TRANSITION_TO_CHART:c=YAHOO.util.Connect.asyncRequest("GET",b,renderChartTransitionCallback);break;case ADD_DATA_FOR_CHART:case SET_ACTIVE_MAP:c=YAHOO.util.Connect.asyncRequest("GET",b,nullTSCallback);break;case RENDER_CHART_CONTROLS:c=YAHOO.util.Connect.asyncRequest("GET",b,renderChartControlsCallback);break;case CHANGE_CHART_SERIES:case RENDER_MULTI_CHART:case RENDER_CHART_FROM_BOOKMARK:case RENDER_CHART:c=YAHOO.util.Connect.asyncRequest("GET",b,renderChartCallback);break}};var getRelevantData=function(b,a){if(b=="document"){getDocumentData(null)}else{if(b=="narrative_profile"){getNPData(null)}else{getProductData(null,false,false,a)}}};var getProductData=function(b,e,h,g,a,c,f){f=f||{};if(productTabView){productTabView.set("activeIndex",0);if(tableTab){tableTab.removeListener("click",renderTable)}if(mapTab){mapTab.removeListener("click",prepareForThematicMap)}if(chartTab){chartTab.removeListener("click",prepareForChart)}}var d=TABLE_DATA_RENDER_URL;if(a==false){__getData(d,b,e,h,g,false,c,f)}else{__getData(d,b,e,h,g,true,c,f)}};var getDocumentData=function(a,b){var c=DOCUMENT_RENDER_URL;__getData(c,a,false,false,null,true,b)};var getNPData=function(a,b){var c=NP_RENDER_URL;__getData(c,a,false,false,null,true,b)};var __getData=function(d,b,e,h,g,a,c,f){f=f||{};prodId=b;if(e){d+="?renderForMap=t";if(productTabView){productTabView.set("activeIndex",0)}}else{d+="?renderForMap=f"}if(h){d+="&renderForChart=t";if(productTabView){productTabView.set("activeIndex",0)}}else{d+="&renderForChart=f"}if(b&&b.length){d+="&pid="+b}if(g&&g.length){d+="&src="+g}if(f.prodToReplace&&f.prodToReplace.length){d+="&prodToReplace="+f.prodToReplace}if(c!=false){d+="&log=t"}if(a){TableAjaxUpdate(RENDER_DATA,d)}else{TableAjaxUpdate(RENDER_DATA,d,false)}};var transpose=function(){var a=TABLE_TRANSPOSE_URL;TableAjaxUpdate(TRANSPOSE,a)};var toggleTT=function(){if(!YAHOO.util.Dom.hasClass(document.getElementById("modify_btn"),"disabled")){var a=TOGGLE_TABLE_TOOLS_URL+"tableToolsEnabled="+tableToolsEnabled;TableAjaxUpdate(TOGGLE_TT,a)}};var toggleStatSig=function(){if(YAHOO.util.Dom.hasClass("statsig_btn","disabled")){return}var a=TOGGLE_SS_URL;if(productJSON.ProductData.statsigEnabled=="true"){a+="enableSS=false"}else{a+="enableSS=true"}TableAjaxUpdate(TOGGLE_SS,a)};var showcol=function(a){var b=SHOW_COL_URL+"&cs="+a;TableAjaxUpdate(SHOW_COL,b)};var hidecol=function(a){var b=HIDE_COL_URL+"&cs="+a;TableAjaxUpdate(HIDE_COL,b)};var showhdrcol=function(a){var b=SHOW_HDR_COL_URL+"&dim="+a+"&axis=v";TableAjaxUpdate(SHOW_COL,b)};var hidehdrcol=function(a){var b=HIDE_HDR_COL_URL+"&dim="+a+"&axis=v";TableAjaxUpdate(HIDE_COL,b)};var showrow=function(a){var b=SHOW_ROW_URL+"&cs="+a;TableAjaxUpdate(SHOW_ROW,b)};var hiderow=function(a){var b=HIDE__ROW_URL+"&cs="+a;TableAjaxUpdate(HIDE_ROW,b)};var collapse=function(a){var b=COLLAPSE_URL+"&cs="+a;TableAjaxUpdate(COLLAPSE,b)};var expand=function(a){var b=EXPAND_URL+"&cs="+a;TableAjaxUpdate(EXPAND,b)};var showHidden=function(){var a=TOGGLE_SHOW_HIDDEN_URL+"showHideEnabled="+showHideEnabled;TableAjaxUpdate(TOGGLE_SHOW_HIDDEN,a)};var shift=function(b,a){var c=SHIFT_URL+"&axis="+b+"&dir="+a;if(mapRendered){mapRendered=false}if(chartRendered){chartRendered=false}if(productJSON.ProductData.renderForChart=="true"){c+="&renderForChart=t"}if(productJSON.ProductData.renderForMap=="true"){c+="&renderForMap=t"}TableAjaxUpdate(SHIFT,c);if(b=="v"&&a=="b"){tp=getPosition(document.getElementById("data"));if(document.documentElement.scrollTop>(tp[1]-5)){window.scrollTo(0,tp[1]-5)}}};var stepshift=function(b,a,d){var c=SHIFT_URL+"&axis="+b+"&dir="+a+"&step=t";if(mapRendered){mapRendered=false}if(chartRendered){chartRendered=false}if(productJSON.ProductData.renderForChart=="true"){c+="&renderForChart=t"}if(productJSON.ProductData.renderForMap=="true"){c+="&renderForMap=t"}TableAjaxUpdate(SHIFT,c);if(b=="v"){tp=getPosition(document.getElementById("data"));if(document.documentElement.scrollTop>(tp[1]-5)){window.scrollTo(0,tp[1]-5)}}};var openAdvSort=function(c,b,a){var d=OPEN_ADV_SORT_URL+"cs="+c+"&axis="+b+"&dir="+a;TableAjaxUpdate(OPEN_ADV_SORT,d)};var sort=function(c,b,a){var d=SORT_URL+"cs="+c+"&axis="+b+"&dir="+a;TableAjaxUpdate(SORT,d)};var hdrsort=function(b,c,a){var d=HDR_SORT_URL+"dim="+b+"&axis="+c+"&dir="+a;TableAjaxUpdate(HDR_SORT,d)};var hdrunsort=function(a,b){unsort(a,b)};var unsort=function(b,a){var c=CLEAR_SORT_URL+"cs="+b+"&axis="+a;TableAjaxUpdate(CLEAR_SORT,c)};var confirmReset=function(){var a=new YAHOO.widget.Dialog("reset-confirmation-dialog",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,buttons:[{text:"OK",handler:reset,isDefault:true},{text:getI18text("form_cancel"),handler:handleCancel}]});a.setHeader(getI18text("reset_confirmation_dialog_header"));a.setBody(getI18text("reset_confirmation_dialog_body"));a.render(document.body);a.show()};var reset=function(){this.hide();var a=RESET_URL;TableAjaxUpdate(RESET,a)};var resetToTableView=function(){YAHOO.util.Dom.removeClass("modify_btn","disabled");YAHOO.util.Dom.removeClass("bookmark_btn","disabled");YAHOO.util.Dom.removeClass("dnld_btn","disabled");YAHOO.util.Dom.removeClass("print_btn","disabled");YAHOO.util.Dom.removeClass("map_dnld_btn","disabled");YAHOO.util.Dom.removeClass("map_print_btn","disabled");YAHOO.util.Dom.removeClass("chart_btn","disabled");YAHOO.util.Dom.removeClass("remove_chart_btn","disabled");document.getElementById("map-instruction").style.display="none";document.getElementById("map-instruction").style.visibility="hidden";YAHOO.util.Dom.get("rb_maptitlelabel").style.display="none";YAHOO.util.Dom.get("rb_maptitle").style.display="none";document.getElementById("chart-instruction").style.display="none";document.getElementById("chart-instruction").style.visibility="hidden";getProductData(null,false,false,null,true,false)};var removeChart=function(c){if(c){chartRendered=false;TableAjaxUpdate(RESET_CHART,RESET_CHART_URL,false)}else{if(!YAHOO.util.Dom.hasClass(document.getElementById("remove_chart_btn"),"disabled")){var b=function(){this.hide();chartRendered=false;TableAjaxUpdate(RESET_CHART,RESET_CHART_URL,false)};var a=function(){this.cancel()};document.getElementById("removeChartConfirmation").style.display="block";document.getElementById("removeChartConfirmation").style.visibility="visible";var d=new YAHOO.widget.Dialog("removeChartConfirmation",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("remove_chart_yes_button"),handler:b,isDefault:true},{text:getI18text("remove_chart_no_button"),handler:a}]});document.getElementById("remove-chart-confirmation-dialog").innerHTML=getI18text("remove-chart-confirmation");d.render(document.body);d.show()}}};var removeMap=function(b){if(b){mapRendered=false;TableAjaxUpdate(RESET_MAP,RESET_MAP_URL,false)}else{if(!YAHOO.util.Dom.hasClass(document.getElementById("remove_map_btn"),"disabled")){var a=function(){this.hide();mapRendered=false;document.getElementById("remove_map_btn").style.display="none";document.getElementById("remove_map_btn").style.visibility="hidden";document.getElementById("map_btn").style.visibility="visible";document.getElementById("map_btn").style.display="inline-block";if(mapTab){mapTab.setStyle("visibility","hidden")}TableAjaxUpdate(RESET_MAP,RESET_MAP_URL,false)};var d=function(){this.cancel()};document.getElementById("removeMapConfirmation").style.display="block";document.getElementById("removeMapConfirmation").style.visibility="visible";var c=new YAHOO.widget.Dialog("removeMapConfirmation",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("remove_chart_yes_button"),handler:a,isDefault:true},{text:getI18text("remove_chart_no_button"),handler:d}]});document.getElementById("remove-map-confirmation-dialog").innerHTML=getI18text("remove-map-confirmation");c.render(document.body);c.show()}}};var createThematicMap=function(){if(mapRendered){var a=function(){this.hide();mapRendered=false;prepareForThematicMap()};var b=function(){this.cancel()};document.getElementById("differentMapConfirmation").style.display="block";document.getElementById("differentMapConfirmation").style.visibility="visible";var c=new YAHOO.widget.Dialog("differentMapConfirmation",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("remove_chart_yes_button"),handler:a,isDefault:true},{text:getI18text("remove_chart_no_button"),handler:b}]});document.getElementById("different-map-confirmation-dialog").innerHTML=getI18text("different-map-confirmation");c.render(document.body);c.show()}else{prepareForThematicMap()}};var createChart=function(){chartRendered=false;prepareForChart()};var prepareForThematicMap=function(){if(!YAHOO.util.Dom.hasClass(document.getElementById("map_btn"),"disabled")){if(mapRendered){productTabView.set("activeIndex",1)}else{productTabView.set("activeIndex",0);getProductData(null,true,false,null,true,false);YAHOO.util.Dom.addClass("modify_btn","disabled");YAHOO.util.Dom.addClass("bookmark_btn","disabled");YAHOO.util.Dom.addClass("dnld_btn","disabled");YAHOO.util.Dom.addClass("print_btn","disabled");YAHOO.util.Dom.removeClass("map_dnld_btn","disabled");YAHOO.util.Dom.removeClass("map_print_btn","disabled");YAHOO.util.Dom.addClass("map_btn","disabled");YAHOO.util.Dom.addClass("chart_btn","disabled");YAHOO.util.Dom.addClass("remove_chart_btn","disabled");document.getElementById("chart-instruction").style.display="none";document.getElementById("chart-instruction").style.visibility="hidden";document.getElementById("map-instruction").style.display="block";document.getElementById("map-instruction").style.visibility="visible"}}else{if(!mapRendered){productTabView.set("activeIndex",0)}}};var prepareForChart=function(){if(!YAHOO.util.Dom.hasClass(document.getElementById("chart_btn"),"disabled")){if(chartRendered){productTabView.set("activeIndex",2)}else{productTabView.set("activeIndex",0);getProductData(null,false,true,null,true,false);YAHOO.util.Dom.addClass("modify_btn","disabled");YAHOO.util.Dom.addClass("bookmark_btn","disabled");YAHOO.util.Dom.addClass("dnld_btn","disabled");YAHOO.util.Dom.addClass("print_btn","disabled");YAHOO.util.Dom.addClass("map_dnld_btn","disabled");YAHOO.util.Dom.addClass("map_print_btn","disabled");YAHOO.util.Dom.addClass("map_btn","disabled");document.getElementById("map-instruction").style.display="none";document.getElementById("map-instruction").style.visibility="hidden";document.getElementById("chart-instruction").style.display="block";document.getElementById("chart-instruction").style.visibility="visible"}}else{if(!chartRendered){productTabView.set("activeIndex",0)}}};var checkIfChartRendered=function(){if(chartRendered){var c=function(){this.hide();chartRendered=false;removeChart(true);transitionToMultiChart()};var b=function(){this.cancel()};document.getElementById("differentChartWarning").style.display="block";document.getElementById("differentChartWarning").style.visibility="visible";var a=new YAHOO.widget.Dialog("differentChartWarning",{width:"400px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("chart_warning_proceed_button"),handler:c,isDefault:true},{text:getI18text("form_cancel"),handler:b}]});document.getElementById("different-chart-warning-dialog").innerHTML=getI18text("different_chart_warning");a.render(document.body);a.show()}else{transitionToMultiChart()}};var transitionToMultiChart=function(){if(productTabView.get("activeIndex")==2){prepareForChart()}else{if(productJSON.ProductData.renderForChart=="true"){var a=TRANSITION_TO_CHART_URL;TableAjaxUpdate(TRANSITION_TO_CHART,a)}else{prepareForChart()}}};var transitionToMap=function(a,c){var b=TRANSITION_TO_MAP_URL+"&hCatSetId="+a+"&vCatSetId="+c;TableAjaxUpdate(TRANSITION_TO_MAP,b+"&log=t")};var moveHdrLeft=function(a){TableAjaxUpdate(MOVE_HDR_LEFT,MOVE_HDR_LEFT_URL+"dim="+a)};var moveHdrRight=function(a){TableAjaxUpdate(MOVE_HDR_LEFT,MOVE_HDR_RIGHT_URL+"dim="+a)};var moveLeft=function(a){TableAjaxUpdate(MOVE_LEFT,MOVE_LEFT_URL+"cs="+a)};var moveRight=function(a){TableAjaxUpdate(MOVE_RIGHT,MOVE_RIGHT_URL+"&cs="+a)};var moveUp=function(a){TableAjaxUpdate(MOVE_UP,MOVE_UP_URL+"&cs="+a)};var moveDown=function(a){TableAjaxUpdate(MOVE_DOWN,MOVE_DOWN_URL+"&cs="+a)};var changeHeaderSelection=function(b){var a=YAHOO.util.Dom.get("cat_id_select_"+b);var c=a.options[a.selectedIndex].value;TableAjaxUpdate(CHANGE_HEADER_SELECTION,CHANGE_HEADER_SELECTION_URL+"dimId="+b+"&cat="+c)};var changeNPHeaderSelection=function(b){var a=YAHOO.util.Dom.get("cat_id_select_"+b);var c=a.options[a.selectedIndex].value;TableAjaxUpdate(CHANGE_HEADER_SELECTION,NP_RENDER_CHANGE_HEADER_SELECTION+"dimId="+b+"&cat="+c)};var openFieldFilter=function(b,a){TableAjaxUpdate(OPEN_COL_FILTER,OPEN_COL_FILTER_URL+"&cs="+b+"&axis="+a)};var openHdrFilter=function(c,b){var a=c.substring(0,c.indexOf("."));TableAjaxUpdate(OPEN_HDR_FILTER,OPEN_HDR_FILTER_URL+"&dim="+a+"&axis="+b)};var filterOpChange=function(a){if(a.value=="BETWEEN"){document.getElementById("filter-between").style.display="inline-block";document.getElementById("filter-between").style.visibility="visible"}else{document.getElementById("filter-between").style.display="none";document.getElementById("filter-between").style.visibility="hidden"}};var addremovechartcol=function(b,a){var c=ADD_DATA_FOR_CHART_URL+"&catId="+b+"&dataDir=col&renderForChart=t&pos="+a;if(document.getElementById("chart_"+b).checked){c+="&action=a"}else{c+="&action=r"}TableAjaxUpdate(ADD_DATA_FOR_CHART,c,false)};var addremovechartrow=function(b,a){var c=ADD_DATA_FOR_CHART_URL+"&catId="+b+"&dataDir=row&renderForChart=t&pos="+a;if(document.getElementById("chart_"+b).checked){c+="&action=a"}else{c+="&action=r"}TableAjaxUpdate(ADD_DATA_FOR_CHART,c,false)};var changeStatSigDimension=function(a,c){var b=CHANGE_STAT_SIG_DIMENSION_URL+"&hcatId="+a+"&vcatId="+c;TableAjaxUpdate(CHANGE_STAT_SIG_DIMENSION,b,true)};var changeGraphSeries=function(a){var b=CHANGE_CHART_SERIES_URL+"&series="+a.value;TableAjaxUpdate(CHANGE_CHART_SERIES,b,true)};var fuseChartAxis=function(b,a){var c=RENDER_MULTI_CHART_URL+"&axis="+b+"&log=t";TableAjaxUpdate(RENDER_MULTI_CHART,c,a)};var showIndividualCharts=function(){YAHOO.util.Dom.removeClass("chart_fuseV_btn","disabled");YAHOO.util.Dom.removeClass("chart_fuseH_btn","disabled");TableAjaxUpdate(RENDER_CHART,CHART_URL+"&single=t")};var renderTable=function(){if(tableMode){productTabView.set("activeIndex",0)}else{tableMode=true;getProductData(null,false,false,null,true,false)}};var loadChartFromBookmark=function(){TableAjaxUpdate(RENDER_CHART_FROM_BOOKMARK,RENDER_CHART_FROM_BOOKMARK_URL)};var downloadValidator=function(){if(productJSON&&dnldAttrs.context=="TABLE"){return true}return false};var requestStep=function(a){var c={success:function(d){window.location.href=productJSON.ProductData.currentContextURI},failure:function(d){}};var b=YAHOO.util.Connect.asyncRequest("POST","/rest/wizard/setCurrentStep",c,"step="+a)};YAHOO.namespace("EUS");(function(){var b=YAHOO.util.Dom,c=YAHOO.lang,a=YAHOO.util.Event;var d=function(){d.superclass.constructor.call(this);this.productView=true;var e="geoTextSearch";this.mapServiceNameToServiceUrl(e,"/rest/pvSearchNav/geoTextSearch");this.searchForGeoLookAhead=function(g,h,f){this.callService(e,{q:g,log:"t"},h,f,{suppressWaitPanel:true})};this.mapServiceNameToServiceUrl(GEO_ASSIST,"/rest/pvSearchNav/geoassist")};c.extend(d,YAHOO.EUS.Server,{getServiceCallSpec:function(f,e,h){var g=d.superclass.getServiceCallSpec.call(this,f,e,h);YAHOO.log("pv: "+g.serviceUrlBeanName+", "+g.serviceUrlMethodName+", "+e,"debug");if(f==TOPICS){this.adjustServiceCallSpec(g,e,"intercept")}return g},adjustServiceCallSpec:function(g,e,f){if(e){g.serviceParams=e+"&"}else{g.serviceParams=""}g.serviceParams+="orig-bean-name="+g.serviceUrlBeanName+"&orig-method-name="+g.serviceUrlMethodName;g.serviceUrlBeanName="pvSearchNav";g.serviceUrlMethodName=f}});server=new d()}());var productViewPage={};var openAddRemoveGeoOverlay=function(f){var g=getI18text("geo_lookahead_header");var d=getI18text("geo_lookahead_desc");if(productViewPage.geoOverlay===undefined){var e=new YAHOO.EUS.GeoLookaheadWidget({widgetType:"lookahead",header:g,description:d,footer:"",parentType:"",dataSource:"/rest/pvSearchNav/suggest"});var c=new YAHOO.EUS.GeoAssistWidget({id:"geocommon",widgetType:"geoassist",header:getI18text("geo_assist_header"),helpOnClickHandler:function(){openHelp(403)},footer:"",parentType:""});var h=getI18text("geo_overly_caption");productViewPage.geoOverlay=new YAHOO.EUS.Overlay("pv-geo-overlay",{caption:h,closeBtnEvent:showTable,lookaheadWidget:e,geoAssistWidget:c});productViewPage.geoOverlay.render();productViewPage.geoOverlay.show();var a=new YAHOO.EUS.LookaheadWidgetRenderer(e,{showYourSelections:false});a.render(productViewPage.geoOverlay.getBody());var b=new YAHOO.EUS.WidgetRenderer(c);b.render(productViewPage.geoOverlay.getBody());YAHOO.util.Event.on("showTableBtn","click",function(i){showTable()})}else{productViewPage.geoOverlay.show(f)}YAHOO.util.Dom.setStyle("yscontainer","display","block");YAHOO.util.Dom.setStyle("wiz-nav","display","block")};var showTable=function(){getProductData(prodId,null,null,null,null,true);productViewPage.geoOverlay.hide();YAHOO.util.Dom.setStyle("yscontainer","display","none");YAHOO.util.Dom.setStyle("wiz-nav","display","none")};var showRelatedProduct=function(b,a){if(YAHOO.util.Dom.getStyle("wiz-nav","display")=="block"){productViewPage.geoOverlay.hide();YAHOO.util.Dom.setStyle("yscontainer","display","none");YAHOO.util.Dom.setStyle("wiz-nav","display","none")}params={prodToReplace:a};getProductData(b,false,false,null,null,true,params)};
/** /common/js/eus/tablenotes.js **/
var handleCancel=function(){this.cancel()};var __appendNotes=function(b,a){var c="";for(var d in b){if(b[d].note){c+="<div class='"+a+"'>"+b[d].note+"</div>"}}return c};var tablenotes=null;var __initTableNotes=function(){document.getElementById("tablenotes-dialog").style.display="block";document.getElementById("tablenotes-dialog").style.visibility="visible";tablenotes=new YAHOO.widget.Dialog("tablenotes-dialog",{width:"610px",fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false,constraintoviewport:true,buttons:[{text:getI18text("affalert_button_close"),handler:handleCancel,isDefault:true}]});tablenotes.setHeader(getI18text("notes_dialog_header"));tablenotes.render(document.body)};var __openTablenotes=function(e,c,d,b){var a="",f="";f=__appendNotes(e,"headnote");if(f.length){a+=f+"<br />&#160;<br />"}f=__appendNotes(c,"headnote");if(f.length){a+=f+"<br />&#160;<br />"}f=__appendNotes(d,"footnote");if(f.length){a+=f+"<br />&#160;<br />"}f=__appendNotes(b,"footnote");if(f.length){a+=f+"<br />&#160;<br />"}document.getElementById("note-area").innerHTML=a;tablenotes.show()};
/** /common/js/balloons/balloon.js **/
var currentBalloonClass;var balloonIsVisible;var balloonIsSticky;var balloonInvisibleSelects;var balloonIsSuppressed;var tooltipIsSuppressed;var Balloon=function(){this.trackCursor=true;this.stopTrackingX=100;this.stopTrackingY=50;document.onmousemove=this.setActiveCoordinates;document.onscroll=Balloon.prototype.hideTooltip;window.onbeforeunload=function(){Balloon.prototype.hideTooltip(1);balloonIsSuppressed=true};if(this.isIE()){this.suppress=true}return this};Balloon.prototype.showTooltip=function(l,n,k,a,m){if(!this.configured){BalloonConfig(this,"GBubble")}if(this.isIE()&&document.readyState.match(/complete/i)){this.suppress=false}if(tooltipIsSuppressed&&!k){return false}if(this.opacity&&this.opacity<1){this.opacity=parseInt(parseFloat(this.opacity)*100)}else{if(this.opacity&&this.opacity==1){this.opacity=100}else{if(!this.opacity){this.opacity=100}}}if(this.isKonqueror()){this.allowFade=false;this.opacity=100}if(this.isIE()&&this.allowFade){this.opacity=100}var c=l.type.match("mouseover","i");if(!c){k=true;this.fadeOK=false}else{this.fadeOK=this.allowFade}if(balloonIsVisible&&!balloonIsSticky&&c){return false}if(balloonIsVisible&&balloonIsSticky&&!k){return false}var b=this.getEventTarget(l);if(k&&c&&this.isSameElement(b,this.currentElement)){return false}this.currentElement=b;this.elCoords=this.getLoc(b,"region");if(k){this.hideTooltip(1)}var j=b.onmouseout;var d=function(){var i=balloonIsSticky&&!balloonIsVisible;Balloon.prototype.hideTooltip(i);if(j){j()}};if(!c){b.onmouseup=function(){return false}}balloonIsSticky=k;this.hideTooltip();this.currentHelpText=this.getAndCheckContents(n);if(!this.currentHelpText){return false}this.width=a;this.height=m;this.actualWidth=null;this.cleanup();this.container=document.createElement("div");this.container.id="container";document.body.appendChild(this.container);this.setStyle(this.container,"position","absolute");this.setStyle(this.container,"top",-8888);this.setStyle(this.container,"font-family",this.fontFamily);this.setStyle(this.container,"font-size",this.fontSize);this.currentHelpText=this.currentHelpText.replace(/\&amp;/g,"&amp;amp");this.container.innerHTML=unescape(this.currentHelpText);if(this.images){this.balloonImage=this.balloonImage?this.images+"/"+this.balloonImage:false;this.ieImage=this.ieImage?this.images+"/"+this.ieImage:false;this.upLeftStem=this.upLeftStem?this.images+"/"+this.upLeftStem:false;this.upRightStem=this.upRightStem?this.images+"/"+this.upRightStem:false;this.downLeftStem=this.downLeftStem?this.images+"/"+this.downLeftStem:false;this.downRightStem=this.downRightStem?this.images+"/"+this.downRightStem:false;this.closeButton=this.closeButton?this.images+"/"+this.closeButton:false;this.images=false}if(this.ieImage&&(this.isIE()||this.isChrome())){if(this.isOldIE()||this.opacity||this.allowFade){this.balloonImage=this.ieImage}}if(!this.preloadedImages){var h=[this.balloonImage,this.closeButton];if(this.ieImage){h.push(this.ieImage)}if(this.stem){h.push(this.upLeftStem,this.upRightStem,this.downLeftStem,this.downRightStem)}var g=h.length;for(var f=0;f<g;f++){if(h[f]){this.preload(h[f])}}this.preloadedImages=true}currentBalloonClass=this;if(!c){this.setActiveCoordinates(l)}this.currentEvent=l;l.cancelBubble=true;var e=c?this.delayTime:1;this.timeoutTooltip=window.setTimeout(this.doShowTooltip,e);this.pending=true};Balloon.prototype.preload=function(b){var a=new Image;a.src=b;this.setStyle(a,"position","absolute");this.setStyle(a,"top",-8000);document.body.appendChild(a);document.body.removeChild(a)};Balloon.prototype.doShowTooltip=function(){var k=currentBalloonClass;if(balloonIsVisible){return false}var f=k.eventXY(k.currentEvent);if(f[0]<k.elCoords.left||f[0]>k.elCoords.right||f[1]<k.elCoords.top||f[1]>k.elCoords.bottom){k.hideTooltip(1)}if(!k.parent){if(k.parentID){k.parent=document.getElementById(k.parentID)}else{k.parent=document.body}k.xOffset=k.getLoc(k.parent,"x1");k.yOffset=k.getLoc(k.parent,"y1")}window.clearTimeout(k.timeoutFade);k.setStyle("balloon","display","none");k.parseIntAll();var m=k.makeBalloon();var i=YAHOO.util.Dom.getViewportWidth();var h=Math.round(i/2);var d=YAHOO.util.Dom.getViewportHeight();var j=YAHOO.util.Dom.getDocumentScrollLeft();var l=YAHOO.util.Dom.getDocumentScrollTop();var a=l+Math.round(d/2);k.pageBottom=l+d;k.pageTop=l;k.pageLeft=j;k.pageRight=j+i;var e=k.activeTop>a?"up":"down";var c=k.activeRight>h?"left":"right";var g=k.container.innerHTML;k.actualWidth=k.getLoc(k.container,"width")+10;k.parent.removeChild(k.container);var b=document.createElement("div");b.id="contentWrapper";k.contents.appendChild(b);b.innerHTML=g;k.setBalloonStyle(e,c,i,j);if(balloonIsSticky){k.addCloseButton()}balloonIsVisible=true;k.pending=false;k.showHide();k.startX=k.activeLeft;k.startY=k.activeTop;k.fade(0,k.opacity,k.fadeIn)};Balloon.prototype.addCloseButton=function(){var b=currentBalloonClass;var e=Math.round(b.padding/2);var d=b.closeButtonWidth||16;var c=b.getLoc("balloon","y1")+e+b.shadow;var f=b.getLoc("topRight","x2")-b.closeButtonWidth-b.shadow-e;var a=document.getElementById("closeButton");if(!a){a=new Image;a.setAttribute("id","closeButton");a.setAttribute("src",b.closeButton);a.onclick=function(){Balloon.prototype.hideTooltip(1)};b.setStyle(a,"position","absolute");document.body.appendChild(a)}if(b.isIE()){f=f-5}b.setStyle(a,"top",c);b.setStyle(a,"left",f);b.setStyle(a,"display","inline");b.setStyle(a,"cursor","pointer");b.setStyle(a,"z-index",999999999)};Balloon.prototype.makeBalloon=function(){var a=currentBalloonClass;var c=document.getElementById("balloon");if(c){a.cleanup()}c=document.createElement("div");c.setAttribute("id","balloon");a.parent.appendChild(c);a.activeBalloon=c;a.parts=[];var d=["contents","topRight","bottomRight","bottomLeft"];for(var b=0;b<d.length;b++){var e=document.createElement("div");e.setAttribute("id",d[b]);c.appendChild(e);if(d[b]=="contents"){a.contents=e}a.parts.push(e)}if(a.displayTime){a.timeoutAutoClose=window.setTimeout(this.hideTooltip,a.displayTime)}return c};Balloon.prototype.setBalloonStyle=function(F,e,H,r){var t=currentBalloonClass;var c=t.activeBalloon;if(typeof(t.shadow)!="number"){t.shadow=0}if(!t.stem){t.stemHeight=0}var I=t.padding+t.shadow;var v=t.padding;var a=t.actualWidth+I;var z=t.actualWidth;t.setStyle(c,"position","absolute");t.setStyle(c,"top",-9999);t.setStyle(c,"z-index",1000000);if(t.height){t.setStyle("contentWrapper","height",t.height-I)}if(t.width){t.setStyle(c,"width",t.width);z=t.width-I;if(balloonIsSticky){z-=t.closeButtonWidth}t.setStyle("contentWrapper","width",z)}else{t.setStyle(c,"width",a);t.setStyle("contentWrapper","width",z)}if(!t.width&&t.maxWidth&&a>t.maxWidth){t.setStyle(c,"width",t.maxWidth);t.setStyle("contentWrapper","width",t.maxWidth-I)}if(!t.width&&t.minWidth&&a<t.minWidth){t.setStyle(c,"width",t.minWidth);t.setStyle("contentWrapper","width",t.minWidth-I)}t.setStyle("contents","z-index",2);t.setStyle("contents","color",t.fontColor);t.setStyle("contents","font-family",t.fontFamily);t.setStyle("contents","font-size",t.fontSize);t.setStyle("contents","background","url("+t.balloonImage+") top left no-repeat");t.setStyle("contents","padding-top",I);t.setStyle("contents","padding-left",I-10);t.setStyle("bottomRight","background","url("+t.balloonImage+") bottom right no-repeat");t.setStyle("bottomRight","position","absolute");t.setStyle("bottomRight","right",0-I);t.setStyle("bottomRight","bottom",0-I);t.setStyle("bottomRight","height",I);t.setStyle("bottomRight","width",I);t.setStyle("bottomRight","z-index",-1);t.setStyle("topRight","background","url("+t.balloonImage+") top right no-repeat");t.setStyle("topRight","position","absolute");t.setStyle("topRight","right",0-I);t.setStyle("topRight","top",0);t.setStyle("topRight","width",I);t.setStyle("bottomLeft","background","url("+t.balloonImage+") bottom left no-repeat");t.setStyle("bottomLeft","position","absolute");t.setStyle("bottomLeft","left",0);t.setStyle("bottomLeft","bottom",0-I);t.setStyle("bottomLeft","height",I);t.setStyle("bottomLeft","z-index",-1);if(this.stem){var j=document.createElement("img");t.setStyle(j,"position","absolute");c.appendChild(j);if(F=="up"&&e=="left"){j.src=t.upLeftStem;var u=t.stemHeight+v-t.stemOverlap;t.setStyle(j,"bottom",0-u);t.setStyle(j,"right",0)}else{if(F=="down"&&e=="left"){j.src=t.downLeftStem;var u=t.stemHeight-(t.shadow+t.stemOverlap);t.setStyle(j,"top",0-u);t.setStyle(j,"right",0)}else{if(F=="up"&&e=="right"){j.src=t.upRightStem;var u=t.stemHeight+v-t.stemOverlap;t.setStyle(j,"bottom",0-u);t.setStyle(j,"left",t.shadow)}else{if(F=="down"&&e=="right"){j.src=t.downRightStem;var u=t.stemHeight-(t.shadow+t.stemOverlap);t.setStyle(j,"top",0-u);t.setStyle(j,"left",t.shadow)}}}}if(t.fadeOK&&t.isIE()){t.parts.push(j)}}if(t.allowFade){t.setOpacity(1)}else{if(t.opacity){t.setOpacity(t.opacity)}}if(e=="left"){var H=t.pageRight-t.pageLeft;var i=H-t.activeLeft;t.setStyle(c,"right",i)}else{var C=t.activeRight-t.xOffset;t.setStyle(c,"left",C)}var A=balloonIsSticky?"auto":"hidden";t.setStyle("contentWrapper","overflow",A);if(balloonIsSticky){t.setStyle("contentWrapper","margin-right",t.closeButtonWidth)}var f=t.getLoc(c,"x1");var d=t.getLoc(c,"x2");var g=20;if(e=="right"&&d>(t.pageRight-I)){var y=(t.pageRight-f)-I-g;t.setStyle(c,"width",y);t.setStyle("contentWrapper","width",y-I)}else{if(e=="left"&&f<(t.pageLeft+I)){var y=(d-t.pageLeft)-I;t.setStyle(c,"width",y);t.setStyle("contentWrapper","width",y-I)}}var G=t.getLoc(c,"width");var D=t.getLoc(c,"height");var m=t.isOverlap("topRight","bottomRight");var q=t.isOverlap("bottomLeft","bottomRight");if(m){t.setStyle("topRight","height",D-m[1])}if(q){t.setStyle("bottomLeft","width",G-q[0])}if(F=="up"){var x=t.activeTop-D;t.setStyle(c,"top",x)}else{var x=t.activeBottom;t.setStyle(c,"top",x)}var s=t.getLoc(c,"y1");var p=t.height?s+t.height:t.getLoc(c,"y2");var b=s<t.pageTop?t.pageTop-s:0;var n=p>t.pageBottom?p-t.pageBottom:0;if(F=="up"&&b){var B=D-b;if(B>(t.padding*2)){t.setStyle("contentWrapper","height",B-I);t.setStyle(c,"top",t.pageTop+t.padding);t.setStyle(c,"height",B)}}if(F=="down"&&n){var B=D-n-g;if(B>(t.padding*2)+g){t.setStyle("contentWrapper","height",B-I);t.setStyle(c,"height",B)}}var k=c.getElementsByTagName("iframe");if(k[0]){k=k[0];var l=t.getLoc("contentWrapper","width");if(balloonIsSticky&&!this.isIE()){l-=t.closeButtonWidth}var E=t.getLoc("contentWrapper","height");t.setStyle(k,"width",l);t.setStyle(k,"height",E);t.setStyle("contentWrapper","overflow","hidden")}t.setStyle("topRight","height",t.getLoc(c,"height"));t.setStyle("bottomLeft","width",t.getLoc(c,"width"));t.hOrient=e;t.vOrient=F};Balloon.prototype.fade=function(e,b,c){var a=currentBalloonClass||new Balloon;if(!c||!a.allowFade){return false}b=b||100;var d=Math.round(c/100);var f=0;for(o=e;o<=b;o++){a.timeoutFade=setTimeout("Balloon.prototype.setOpacity("+o+")",(f*d));f++}};Balloon.prototype.setOpacity=function(f){var b=currentBalloonClass;if(!b||!f){return false}var e=parseFloat(f/100);var d=b.isIE()?b.parts:[b.activeBalloon];var a=d.length;for(var c=0;c<a;c++){b.doOpacity(e,f,d[c])}};Balloon.prototype.doOpacity=function(d,c,b){var a=currentBalloonClass;if(!b){return false}a.setStyle(b,"opacity",d);a.setStyle(b,"filter","alpha(opacity="+c+")");a.setStyle(b,"MozOpacity",d);a.setStyle(b,"KhtmlOpacity",d)};Balloon.prototype.hideTooltip=function(b){if(b&&typeof b=="object"){b=false}if(balloonIsSticky&&!b){return false}var a=currentBalloonClass;Balloon.prototype.showHide(1);Balloon.prototype.cleanup();if(a){window.clearTimeout(a.timeoutTooltip);window.clearTimeout(a.timeoutFade);window.clearTimeout(a.timeoutAutoClose);if(balloonIsSticky){a.currentElement=null}a.startX=0;a.startY=0}balloonIsVisible=false;balloonIsSticky=false};Balloon.prototype.cleanup=function(){var d=currentBalloonClass;var b;if(d){b=d.parent?d.parent:d.parentID?document.getElementById(d.parentID)||document.body:document.body}else{b=document.body}var c=document.getElementById("balloon");var e=document.getElementById("closeButton");var a=document.getElementById("container");if(c){b.removeChild(c)}if(e){b.removeChild(e)}if(a){b.removeChild(a)}};hideAllTooltips=function(){var a=currentBalloonClass;if(!a){return}window.clearTimeout(a.timeoutTooltip);if(a.activeBalloon){a.setStyle(a.activeBalloon,"display","none")}balloonIsVisible=false;balloonIsSticky=false;currentBalloonClass=null};Balloon.prototype.setActiveCoordinates=function(n){var q=currentBalloonClass;if(!q){return true}var n=n||window.event||q.currentEvent;if(!n){return true}q.currentEvent={};for(var h in n){q.currentEvent[h]=n[h]}q.hOffset=q.hOffset||1;q.vOffset=q.vOffset||1;q.stemHeight=q.stem&&q.stemHeight?(q.stemHeight||0):0;var c=0;var e=0;var j=q.eventXY(n);adjustment=q.hOffset<20?10:0;q.activeTop=c+j[1]-adjustment-q.vOffset-q.stemHeight;q.activeLeft=e+j[0]-adjustment-q.hOffset;q.activeRight=e+j[0];q.activeBottom=c+j[1]+q.vOffset+2*adjustment;if(balloonIsVisible&&!balloonIsSticky&&q.trackCursor){var g=Math.abs(q.activeLeft-q.startX);var f=Math.abs(q.activeTop-q.startY);if(j[0]<q.elCoords.left||j[0]>q.elCoords.right||j[1]<q.elCoords.top||j[1]>q.elCoords.bottom){q.hideTooltip()}if(g>q.stopTrackingX||f>q.stopTrackingY){q.hideTooltip()}else{var l=q.activeBalloon;var d=q.getLoc(l,"width");var p=q.getLoc(l,"height");var a=q.getLoc(l,"y1");var k=q.getLoc(l,"x1");if(q.hOrient=="right"){q.setStyle(l,"left",q.activeRight)}else{if(q.hOrient=="left"){q.setStyle(l,"right",null);var m=q.activeLeft-d;q.setStyle(l,"left",m)}}if(q.vOrient=="up"){q.setStyle(l,"top",q.activeTop-p)}else{if(q.vOrient=="down"){q.setStyle(l,"top",q.activeBottom)}}}}return true};Balloon.prototype.eventXY=function(a){var c=new Array(2);var b=a||window.event;if(!b){return false}if(b.pageX||b.pageY){c[0]=b.pageX;c[1]=b.pageY;return c}else{if(b.clientX||b.clientY){c[0]=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c[1]=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;return c}}};Balloon.prototype.getEventTarget=function(b){var a;var c=b||window.event;if(c.target){a=c.target}else{if(c.srcElement){a=c.srcElement}}if(a.nodeType==3){a=a.parentNode}return a};Balloon.prototype.setStyle=function(c,b,d){if(!c){return false}if(typeof(c)!="object"){c=document.getElementById(c)}if(!c){return false}var a=d;if(d&&b.match(/left|top|bottom|right|width|height|padding|margin/)){d=String(d);if(!d.match(/auto/)){d+="px"}}if(b=="z-index"){if(c.style){c.style.zIndex=parseInt(d)}}else{if(this.isIE()&&b.match(/^left|right|top|bottom$/)&&!parseInt(d)&&d!=0){d=null}YAHOO.util.Dom.setStyle(c,b,d)}};Balloon.prototype.getLoc=function(a,b){var c=YAHOO.util.Dom.getRegion(a);switch(b){case ("y1"):return parseInt(c.top);case ("y2"):return parseInt(c.bottom);case ("x1"):return parseInt(c.left);case ("x2"):return parseInt(c.right);case ("width"):return(parseInt(c.right)-parseInt(c.left));case ("height"):return(parseInt(c.bottom)-parseInt(c.top));case ("region"):return c}return c};Balloon.prototype.parseIntAll=function(){this.padding=parseInt(this.padding);this.shadow=parseInt(this.shadow);this.stemHeight=parseInt(this.stemHeight);this.stemOverlap=parseInt(this.stemOverlap);this.vOffset=parseInt(this.vOffset);this.delayTime=parseInt(this.delayTime);this.width=parseInt(this.width);this.maxWidth=parseInt(this.maxWidth);this.minWidth=parseInt(this.minWidth);this.fadeIn=parseInt(this.fadeIn)||1000};Balloon.prototype.showHide=function(c){var k=currentBalloonClass||new Balloon;if(k.isOldIE()){var f=document.getElementById("contentWrapper");if(!c&&f){var d=f.getElementsByTagName("select");var j={};for(var e=0;e<d.length;e++){var a=d[e].id||d[e].name;j[a]=1}balloonInvisibleSelects=[];var g=document.getElementsByTagName("select");for(var e=0;e<g.length;e++){var a=g[e].id||g[e].name;if(k.isOverlap(g[e],k.activeBalloon)&&!j[a]){balloonInvisibleSelects.push(g[e]);k.setStyle(g[e],"visibility","hidden")}}}else{if(balloonInvisibleSelects){for(var e=0;e<balloonInvisibleSelects.length;e++){var a=balloonInvisibleSelects[e].id||balloonInvisibleSelects[e].name;k.setStyle(balloonInvisibleSelects[e],"visibility","visible")}balloonInvisibleSelects=null}}}if(k.hide){var h=c?"inline":"none";for(var b=0;b<k.hide.length;b++){if(k.isOverlap(k.activeBalloon,k.hide[b])){k.setStyle(k.hide[b],"display",h)}}}};Balloon.prototype.isOverlap=function(e,c){if(!e||!c){return false}var d=this.getLoc(e,"region");var b=this.getLoc(c,"region");if(!d||!b){return false}var a=d.intersect(b);if(a){a=[(a.right-a.left),(a.bottom-a.top)]}return a};Balloon.prototype.isSameElement=function(d,b){if(!d||!b){return false}var c=this.getLoc(d,"region");var a=this.getLoc(b,"region");var e=c.contains(a)&&a.contains(c);return e?true:false};Balloon.prototype.getAndCheckContents=function(b){var e=b;var a="are not allowed in popup balloons in this web site.  Please contact the site administrator for assistance.";var c="AJAX is not supported for popup balloons in this web site.  Please contact the site administrator for assistance.";if(this.helpUrl&&!this.allowAJAX){alert("Sorry, you have specified help URL "+this.helpUrl+" but "+c);return null}if(b.match(/^url:/)){this.activeUrl=b.replace(/^url:/,"");b=""}else{if(b.match(/^(https?:|\/|ftp:)\S+$/i)){this.activeUrl=b;b=""}}if(this.activeUrl&&!this.allowAJAX){alert("Sorry, you asked for "+e+" but "+c);return null}if(b.match(/^load:/)){var d=b.split(":");if(!document.getElementById(d[1])){alert("problem locating element "+d[1])}b=document.getElementById(d[1]).innerHTML;this.loadedFromElement=true}if(b.match(/\<\s*iframe/i)&&!this.allowIframes){alert("Sorry: iframe elements "+a);return null}if(b.match(/\bon(load|mouse|click|unload|before)[^=]*=/i)&&!this.allowEventHandlers){alert("Sorry: JavaScript event handlers "+a);return null}if(b.match(/\<\s*script/i)&&!this.allowScripts){alert("Sorry: <script> elements "+a);return null}this.currentHelpText=this.getContents(b);this.loadedFromElement=false;return this.currentHelpText};Balloon.prototype.getContents=function(f){if(!this.helpUrl&&!this.activeUrl){return f}if(this.loadedFromElement){return f}var b=this.activeUrl||this.helpUrl;b+=this.activeUrl?"":f;this.activeUrl=null;var c;if(window.XMLHttpRequest){c=new XMLHttpRequest()}else{c=new ActiveXObject("Microsoft.XMLHTTP")}if(c){c.open("GET",b,false);c.onreadystatechange=function(){};try{c.send(null)}catch(d){}var a;server.processRawServerResponse(c,function(e){a=e||f});return a}else{return f}};Balloon.prototype.isIE=function(){return document.all&&!window.opera};Balloon.prototype.isOldIE=function(){if(navigator.appVersion.indexOf("MSIE")==-1){return false}var a=navigator.appVersion.split("MSIE");return parseFloat(a[1])<7};Balloon.prototype.isKonqueror=function(){return navigator.userAgent.toLowerCase().indexOf("konqueror")!=-1};Balloon.prototype.isChrome=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1};
/** /common/js/balloons/balloon.config.js **/
BalloonConfig=function(a,b){b=b||"";if(!a.configured||b=="GBubble"){a.fontColor="black";a.fontFamily="Arial, sans-serif";a.fontSize="85%";a.minWidth=100;a.maxWidth=400;a.delayTime=750;a.vOffset=10;a.hOffset=10;a.stem=true;a.images="/common/img/balloons/GBubble";a.ieImage="balloon_ie.png";a.balloonImage="balloon.png";a.upLeftStem="up_left.png";a.downLeftStem="down_left.png";a.upRightStem="up_right.png";a.downRightStem="down_right.png";a.closeButton="close.png";a.closeButtonWidth=16;a.allowAJAX=true;a.allowIframes=true;a.trackCursor=true;a.shadow=20;a.padding=10;a.stemHeight=32;a.stemOverlap=3;a.vOffset=1;a.hOffset=1;a.opacity=1;a.configured=b||true}switch(b){case ("GBox"):a.bgColor="whitesmoke";a.borderStyle="2px solid gray";a.padding=5;a.shadow=0;a.stem=false;a.opacity=0.8;a.hOffset=1;a.vOffset=1;a.allowFade=false;break;case ("GPlain"):a.padding=5;a.images="/common/img/balloons/GPlain";a.ieImage=null;a.shadow=0;a.stemHeight=15;a.stemOverlap=1;a.opacity=0.85;break;case ("GFade"):a.allowFade=true;a.fadeIn=1000;a.faedOut=200;break}};var tip=new Balloon;BalloonConfig(tip,"GBubble");tip.helpUrl="/tablerestful/viewportOverlay/render?id=";
/** /common/js/eus/LookaheadAutoComplete.js **/
YAHOO.namespace("EUS");(function(){var f=YAHOO.lang;var d=function(h,g,i){d.superclass.constructor.call(this,h,g,i,{animVert:true,animHoriz:true,minQueryLength:3,maxResultsDisplayed:20,autoHighlight:false,useIFrame:true});this.formatResult=function(k,m,j){var l="";if(k){l=k[0].cleanSpacesDecode()}return l};this.itemSelectEvent.subscribe(function(k,l){var j=l[0];var m=l[2];j.getInputEl().value=m[0].cleanSpacesDecode()});this.generateRequest=function(l){if(l.startsWith('"')||l.startsWith("%22")||l.startsWith("'")){l=""}var j="?wildcard=true&maxResults="+this.maxResultsDisplayed+"&lookaheadSearchTerms="+l+"&qs="+this.qs+"&selectedContext="+this.selectedContext;if(this.scopingAgent!=null){j+="&scoper="+this.scopingAgent}var k=this.getNParam();if(k&&k.length){j+="&"+k}else{j+="&N=0"}return j}};YAHOO.EUS.LookaheadAutoComplete=d;f.extend(d,YAHOO.widget.AutoComplete,{scopingAgent:null,qs:"true",selectedContext:"",getNParam:function(){return getBaseGeoParams()}});var a=function(h,g,i){this.scopingAgent="geo";this.qs="false";this.selectedContext="";a.superclass.constructor.call(this,h,g,i)};YAHOO.EUS.GeoLookaheadAutoComplete=a;f.extend(a,d);var e=function(h,g,i){this.scopingAgent="popgroup";this.qs="false";this.selectedContext="";e.superclass.constructor.call(this,h,g,i)};YAHOO.EUS.PopGroupLookaheadAutoComplete=e;f.extend(e,d);var b=function(h,g,i){this.scopingAgent="ib";this.qs="false";this.selectedContext="";b.superclass.constructor.call(this,h,g,i)};YAHOO.EUS.IndustryCodeLookaheadAutoComplete=b;f.extend(b,d);var c=function(h,g,i){this.qs="false";this.selectedContext="prod";c.superclass.constructor.call(this,h,g,i)};YAHOO.EUS.TableLookaheadAutoComplete=c;f.extend(c,d,{getNParam:function(){return"N=0"}})})();
/** /common/js/eus/widgets.js **/
YAHOO.namespace("EUS");(function(){var b=YAHOO.util.Dom,e=YAHOO.lang,n=YAHOO.util.Element,t=YAHOO.util.Event,r=YAHOO.util.Selector;var d=function(u){d.superclass.constructor.call(this,document.createElement("div"),u)};YAHOO.EUS.Widget=d;e.extend(d,n,{initAttributes:function(u){d.superclass.initAttributes.call(this,u);this.setAttributeConfig("header");this.setAttributeConfig("description");this.setAttributeConfig("footer");this.setAttributeConfig("widgetType");this.setAttributeConfig("id");this.setAttributeConfig("helpOnClickHandler",{validator:e.isFunction});this.setAttributeConfig("name");this.setAttributeConfig("controlType")},getElement:function(){return this.get("element")},getHeader:function(){return this.get("header")},getDescription:function(){return this.get("description")},getFooter:function(){return this.get("footer")},getWidgetType:function(){return this.get("widgetType")},getId:function(){return this.get("id")},getHelpOnClickHandler:function(){return this.get("helpOnClickHandler")},getControlType:function(){return this.get("controlType")},getName:function(){return this.get("name")},setName:function(u){this.set("name",u)},destroy:function(){var u=this.getElement();this._doDestroy(u);var v=this.getElement();t.purgeElement(v,true);this.unsubscribeAll();if(v&&v.parentNode){v.parentNode.removeChild(v)}},render:function(v){var u=this.getElement();b.addClass(u,"widget");b.addClass(u,this.getWidgetType());b.addClass(u,this.getControlType());v.appendChild(u);this._doRender(u)},_doAppendHelp:function(u){var v=u.appendChild(document.createElement("a"));v.title=getI18text("helpicon_title");v.href="#none";b.addClass(v,"help-icon");t.on(v,"click",this.getHelpOnClickHandler())},_doRender:function(u){},_doDestroy:function(u){},configureDialogForClosing:function(u,v,x){var w=[{text:x,handler:function(){this.cancel();v.focus()}}];u.cfg.queueProperty("buttons",w);this.bindEscKeyListener(u,v)},bindEscKeyListener:function(u,v){var w=new YAHOO.util.KeyListener(document,{keys:27},{fn:function(){u.hide();v.focus()}});u.cfg.queueProperty("keylisteners",w)}});var j=function(u){j.superclass.constructor.call(this,u);this.selectionsExist=function(){return server.selectionsExist};this.pathChangeCautionDialog=function(y){var x=function(A,z){clearSelections(TOPICS,true);updateYourSelections(TOPICS,"");server.loadPath(z,1);this.hide()};var v=function(A,z){server.loadPath(z);this.hide()};var w=new YAHOO.widget.SimpleDialog(this.getPathChangeCautionId(),{width:"400px",fixedcenter:true,draggable:true,modal:true,zindex:99,close:true,visible:false,text:getI18text("wizard_confirm_path_change").format(server.wizardTitle),constraintoviewport:true,buttons:[{text:getI18text("affalert_button_continue"),handler:{fn:x,obj:y}},{text:getI18text("affalert_button_cancel"),handler:{fn:v,obj:this.getSelectedChoiceIdx()},isDefault:true}]});w.setHeader(getI18text("affalert_header"));w.render(document.body);w.show();w.focusFirst()}};YAHOO.EUS.ChoiceListWidget=j;e.extend(j,d,{initAttributes:function(u){j.superclass.initAttributes.call(this,u);this.setAttributeConfig("wizardTitle",{writeOnce:true,validator:e.isString});this.setAttributeConfig("choices",{writeOnce:true,validator:e.isArray});this.setAttributeConfig("selectedChoiceIdx",{value:0})},getChoices:function(){return this.get("choices")},getSelectedChoiceIdx:function(){return this.get("selectedChoiceIdx")},getPathChangeCautionId:function(){return"pathChangeCaution"},_doRender:function(H){var J=this.getChoices();if(e.isArray(J)){var u=this.getWidgetType();var z=this.getSelectedChoiceIdx();for(var B=0;B<J.length;B++){var A=J[B];var G=A.value;var F=A.label;var C=A.description;var y=(z==B);var v=B;var I=H.appendChild(document.createElement("p"));b.addClass(I,"choiceRadio");var x='<input type="radio" id="'+v+'" name="'+u+'" value="'+G+'"'+(y?" checked":"")+"/>";var E=document.createElement("label");E.htmlFor=v;E.innerHTML=F;var w=E.appendChild(document.createElement("div"));w.innerHTML=C;I.innerHTML=x;I.appendChild(E)}var D=document.getElementsByName(u);t.on(D,"click",function(M,K){var L=t.getTarget(M);if(L.id!=K.getSelectedChoiceIdx()){if(K.selectionsExist()){K.pathChangeCautionDialog(L.id)}else{server.loadPath(L.id)}}},this)}}});var c=function(u){c.superclass.constructor.call(this,u)};YAHOO.EUS.StepChoiceListWidget=c;e.extend(c,d,{initAttributes:function(u){c.superclass.initAttributes.call(this,u);this.setAttributeConfig("choices",{writeOnce:true,validator:e.isArray})},getChoices:function(){return this.get("choices")},_doRender:function(v){var B=this.getChoices();if(e.isArray(B)){for(var x=0;x<B.length;x++){var w=B[x];w.clickHandler=null;var y=v.appendChild(document.createElement("div"));b.addClass(y,"button-g");var u=y.appendChild(document.createElement("a"));u.innerHTML=w.title;if(w.enabled){if(w.widgets.length==0){w.clickHandler=function(){requestNext()}}else{w.clickHandler=function(C){return function(){loadChoiceWidgets(C)}}(x)}}else{u.href="#none";u.title=w.unavailableText;b.addClass(u,"disabled");w.clickHandler=function(C){return function(){affAlert(C)}}(w.unavailableText)}t.on(u,"click",function(C){return function(D){t.stopEvent(D);C()}}(w.clickHandler));var z=v.appendChild(document.createElement("div"));b.addClass(z,"mbuttontext");z.innerHTML=w.label;var A=v.appendChild(document.createElement("div"));b.addClass(A,"mbuttonsubtext");A.innerHTML=w.description}}}});var q=function(u){q.superclass.constructor.call(this,u)};YAHOO.EUS.TreeWidget=q;e.extend(q,d,{initAttributes:function(u){q.superclass.initAttributes.call(this,u);this.setAttributeConfig("note")},getNote:function(){return this.get("note")},_doRender:function(u){this._doAppendHelp(u);b.addClass(u,"search-input-container");var w=u.appendChild(document.createElement("div"));b.addClass(w,"scrollableContainer");var x=w.appendChild(document.createElement("div"));x.id=this.getId();b.addClass(x,"treeContainer");if(this.getNote()&&this.getNote()!=null){var v=u.appendChild(document.createElement("div"));b.addClass(v,"race-ethnicity-note");v.innerHTML=this.getNote()}}});var k=function(x){k.superclass.constructor.call(this,x);var w=null;var v=null;var u=null;this.processSelectElementChangeEvent=function(B){var A=t.getTarget(B);if(A.value!="not-available"){var C={};var y=this.getElement().getElementsByTagName("select");for(var z=0;z<y.length;z++){C[y[z].id]=y[z].value;if(y[z].id==A.id){break}}if(A.id==GEO_ASSIST_SUMMARY_LEVEL_ELEMENT_ID){w=A.value}v=C;server.applyGeoAssistSelection(C,function(D){this.applyGeoAssistSelectionResult(D)},this)}else{affAlert(getI18text("gso_list_nonavail_summary_level"));A.value=w}};this.applyGeoAssistSelectionResult=function(y){var C=this.getElement();t.purgeElement(C,true);C.innerHTML=y.geoAssistContent;b.getElementsBy(function(){return true},"select",C,function(E){E.disabled=false});var B=b.getElementsBy(function(E){return E.id!="geoAssistList"},"select",C);t.on(B,"change",this.processSelectElementChangeEvent,this,true);var z=b.get("geoAssistList");if(z&&!this.isMultiple()){z.multiple=this.isMultiple()}var D=b.get("addtoyourselections");if(D){t.on(D,"click",this.processAddToYourSelectionsClickEvent,this,true)}if(isProductView()||server.wizardContext==server.WIZARD_CONTEXT.GUIDED_SEARCH){if(z){t.on(z,"change",selectedGeoFromGeoAssist)}var A=b.get("geoAssistAboutGeoBtn");if(A){t.on(A,"click",getGeoInfoFromGeoAssist)}}else{if(server.wizardContext&&server.wizardContext==server.WIZARD_CONTEXT.DOWNLOAD_CENTER){YAHOO.util.Dom.setStyle("geoAssistAboutGeoBtn","visibility","hidden")}}w=b.get(GEO_ASSIST_SUMMARY_LEVEL_ELEMENT_ID).value;this.updateYourSelections(y.UserSelections,y.totalNumRecsAvailable)};this.updateYourSelections=function(z,y){updateYourSelections(TOPICS,z,y)};this.processAddToYourSelectionsClickEvent=function(B){t.stopEvent(B);var z=b.get("geoAssistList");if(z){if(!this.isMultiple()&&server.geographySelected){affAlert(getI18text("wizard_geography_already_selected"))}else{var C=[];for(var y=0;y<z.options.length;y++){if(z.options[y].selected){C.push(z[y].value)}}if(C.length>0){var A=createAddToYourSelectionsAnimation("yscontainer","geoAssistList",C.join(", "));A.onComplete.subscribe(function(){if(!isProductView()&&((selectedProducts!=null&&selectedProducts.length>0)||(selectedProductsInSession!=null&&!isEmpty(selectedProductsInSession)))){prodIdsToRemoveFromSelection={};prodIdsToRemoveFromSelection=selectedProductsInSession;selectedProductsInSession={};selectedProducts=null;updateSelectedProductIds(PRODUCT_SELECTION_CONTROLLER+"&stepChange=false")}server.geoAssistAddToYourSelections(v,C,this.handleGeoAssistAddToYourSelectionsResult,this)},this,true);A.animate()}else{affAlert(getI18text("gso_list_make_selection_error"))}}}};this.handleGeoAssistAddToYourSelectionsResult=function(y){this.applyGeoAssistSelectionResult(y);this.updateYourSelections(y.UserSelections,y.totalNumRecsAvailable)};this.subscribeToSelectionChangedEvent=function(){this.unsubscribeFromSelectionChangedEvent();u=function(){server.geoAssistAddToYourSelections(v,"",this.handleGeoAssistAddToYourSelectionsResult,this)};selectionChangedEvent.subscribe(u,this,true)};this.unsubscribeFromSelectionChangedEvent=function(){if(u!=null){selectionChangedEvent.unsubscribe(u,this)}u=null}};YAHOO.EUS.GeoAssistWidget=k;e.extend(k,d,{initAttributes:function(u){u=u||{};u.controlName="GeoAssistWidget";k.superclass.initAttributes.call(this,u);this.setAttributeConfig("maxSelectedGeographies")},getMaxSelectedGeographies:function(){return this.get("maxSelectedGeographies")},isMultiple:function(){var u=this.getMaxSelectedGeographies();return u==null||u>1},_doRender:function(u){u.id=this.getId();server.applyGeoAssistSelection({},function(v){this.applyGeoAssistSelectionResult(v)},this);this.subscribeToSelectionChangedEvent()},_doDestroy:function(){this.unsubscribeFromSelectionChangedEvent()}});var i=function(u){i.superclass.constructor.call(this,u);this.checkAllProducts=function(B){var C=t.getTarget(B);if(!YAHOO.util.Dom.hasClass(C,"disabled")){var E=searchResultsData.srdt.getRecordSet();var D=searchResultsData.srdt.getState();var y=D.pagination.recordOffset;var v=D.pagination.rowsPerPage;var A=document.getElementsByName("prod");for(var x=y;(x<y+v)&&(x-y<A.length);x++){A[x-y].checked=true;var z=E.getRecord(x);var w=EUS_HASHMAP_KEY_PREPEND+A[x-y].id;selectedProductsInSession[w]=buildProductUrlValueFromRecord(z)}prodIdsToRemoveFromSelection={};updateSelectedProductIds(PRODUCT_SELECTION_CONTROLLER)}}};YAHOO.EUS.ResultTableWidget=i;e.extend(i,d,{initAttributes:function(u){i.superclass.initAttributes.call(this,u);this.setAttributeConfig("geoYearSelectionRefinementMD");this.setAttributeConfig("resultsPaneMD");this.setAttributeConfig("textSelectionRefinementMD");this.setAttributeConfig("textSelectionRefinementLabel")},getYearSelectionRefinement:function(){return this.get("geoYearSelectionRefinementMD")},isYearSelectionRefinementEnabled:function(){var u=this.getYearSelectionRefinement();if(u==null){return true}return u.enabled},getResultsPane:function(){return this.get("resultsPaneMD")},getActionBar:function(){var u=this.getResultsPane();if(u==null){return null}return u.actionBarMD},getTextSelectionRefinement:function(){return this.get("textSelectionRefinementMD")},getTextSelectionRefinementLabel:function(){return this.get("textSelectionRefinementLabel")},isTextSelectionRefinementEnabled:function(){var u=this.getTextSelectionRefinement();if(u==null){return false}return u.enabled},isPaginationEnabled:function(){var u=this.getResultsPane();if(u==null){return false}return u.paginationEnabled},render:function(I){var K=this.getElement();I.appendChild(K);b.addClass(K,"container");b.addClass(K,"resultsForm");b.addClass(K,"hilite-container");b.addClass(K,"searchresults");if(this.isPaginationEnabled()){var A=K.appendChild(document.createElement("div"));A.id="results-header";b.addClass(A,"hd");var B=A.appendChild(document.createElement("h1"));B.id="pagereport";B.appendChild(document.createTextNode(getI18text("search_results")));var v=A.appendChild(document.createElement("div"));b.addClass(v,"perpage");var D=A.appendChild(document.createElement("div"));b.addClass(D,"clearboth")}if(this.isTextSelectionRefinementEnabled()){var w=K.appendChild(document.createElement("div"));w.id="df-search";this._doRenderTextRefinement(w,this.getTextSelectionRefinement())}var F=K.appendChild(document.createElement("div"));F.id="results";b.addClass(F,"bd");this._maybeAppendActionBar(F,this.getActionBar(),"above");if(this.isYearSelectionRefinementEnabled()){var H=F.appendChild(document.createElement("p"));var x=H.appendChild(document.createElement("div"));x.id="legend-filters-container";var y=document.createElement("div");y.id="suggested-table-legend";var G=y.appendChild(document.createElement("img"));G.src="/common/img/star.png";G.width="17";G.height="16";b.setStyle(G,"vertical-align","text-bottom");y.appendChild(document.createTextNode(" - "+getI18text("suggested_search_results")+" "));var z=y.appendChild(document.createElement("span"));z.id="best-bet-trigger";var J=document.createElement("div");J.id="filters-container";var C=J.appendChild(document.createElement("span"));C.appendChild(document.createTextNode(getI18text("result_filters_label")));var E=J.appendChild(document.createElement("span"));E.id="result-table-filters";x.appendChild(y);x.appendChild(J)}var u=F.appendChild(document.createElement("div"));u.id="resulttable";this._maybeAppendActionBar(F,this.getActionBar(),"below")},_doRenderTextRefinement:function(z,w){var v=z.appendChild(document.createElement("div"));v.id="df-refine-div";v.innerHTML=getI18text("search_refine_your_search");var y=z.appendChild(document.createElement("div"));y.id="df-topic-div";var x=y.appendChild(document.createElement("label"));x.htmlFor="prodautocomplete";x.innerHTML=this.getTextSelectionRefinementLabel();var u=y.appendChild(document.createElement("span"));u.id="text-refinement"},_maybeAppendActionBar:function(v,C,A){if(C!=null||this.isPaginationEnabled()||this.isTextSelectionRefinementEnabled()){var y=v.appendChild(document.createElement("div"));y.id="results-action-bar";b.addClass(y,"actionbar");b.addClass(y,"bd");if(this.isPaginationEnabled()){var x=y.appendChild(document.createElement("div"));x.id="paginator_"+A;b.addClass(x,"pages")}if(C!=null){var G=y.appendChild(document.createElement("div"));var D=G.appendChild(document.createElement("span"));var w=D.appendChild(document.createElement("span"));w.id="selectCount_"+A;D.appendChild(document.createTextNode(getI18text("wizard_resultform_selected_text")));b.addClass(G,"buttons");var E=[];for(var z=0;z<C.actionMDs.length;z++){if(z>0){this._appendSpacer(G)}var u=C.actionMDs[z];var B=null;switch(u.type){case"download":B=this._createButton(G,"download","dnld_btn_"+A);b.addClass(B,"ab-download");b.addClass(B,"disabled");t.on(B,"click",function(I){if(!YAHOO.util.Dom.hasClass("dnld_btn_above","disabled")){openBatchDownload(batchDownloadCenterConfirmation)}});break;case"check-all":B=this._createButton(G,"check","check_all_btn_"+A);b.addClass(B,"ab-selectall");t.on(B,"click",this.checkAllProducts);break;case"clear-all":B=this._createButton(G,"clear","clear_all_prods_btn_"+A);b.addClass(B,"ab-clear");b.addClass(B,"disabled");t.on(B,"click",function(I){clearProducts(true)});break;default:break}if(B!=null){E.push(B)}}if(E.length>0){this._appendSpacer(G)}var F=this._createButton(G,"reset_sort","reset_sort_btn_"+A);b.addClass(F,"ab-reset-sort");b.addClass(F,"disabled");t.on(F,"click",function(I){clearProductSort()});E.push(F);t.on(E,"mouseover",function(I){b.addClass(t.getTarget(I),"mouseover")});t.on(E,"mouseout",function(I){b.removeClass(t.getTarget(I),"mouseover")})}if(this.isTextSelectionRefinementEnabled()){var H=y.appendChild(document.createElement("div"));H.id="topics_dympanel"}}},_createButton:function(u,x,w){var v=u.appendChild(document.createElement("a"));v.id=w;v.title=getI18text("wizard_resultform_"+x+"_button_title");v.href="#none";v.appendChild(document.createElement("span"));v.appendChild(document.createTextNode(getI18text("wizard_resultform_"+x+"_button_text")));return v},_appendSpacer:function(u){var v=u.appendChild(document.createElement("img"));v.src="/common/img/button_sep.gif";v.height=18;v.width=3},_doRenderContentHead:function(v){var w=v.appendChild(document.createElement("div"));w.innerHTML="";b.addClass(w,"paginator_ie7_bug");var u=v.appendChild(document.createElement("h1"));u.id=this.getHeaderId();u.innerHTML=this.getHeaderText()},_doRenderContentBody:function(v){var x=v.appendChild(document.createElement("div"));x.id=this.getSelectionsId();b.addClass(x,"topicSelections");this._doRenderSelections(x);this._doAppendActionBar(v,"above");var u=v.appendChild(document.createElement("div"));u.id=this.getDymPanelId();b.addClass(u,"dymPanel");var w=v.appendChild(document.createElement("div"));w.id=this.getResultTableId();this._doAppendActionBar(v,"below")},});var o=function(u){o.superclass.constructor.call(this,u)};YAHOO.EUS.LookaheadWidget=o;e.extend(o,d,{initAttributes:function(v){v=v||{};o.superclass.initAttributes.call(this,v);var u=this.getElement();this.setAttributeConfig("labelEl",{readOnly:true,value:document.createElement("label")});this.setAttributeConfig("inputContainer",{readOnly:true,value:u.appendChild(document.createElement("div"))});this.setAttributeConfig("inputEl",{readOnly:true,value:document.createElement("input")});this.setAttributeConfig("submitEl",{readOnly:true,value:document.createElement("a")});this.setAttributeConfig("resultsContainer",{readOnly:true,value:u.appendChild(document.createElement("div"))});this.setAttributeConfig("dataSource");this.setAttributeConfig("resultsList",{readOnly:true,value:"SuggestionsList.DimGroups"});this.setAttributeConfig("field",{readOnly:true,value:"Dims.name"});this.setAttributeConfig("autoComplete",{writeOnce:true});this.setAttributeConfig("keypressHandler",{validator:e.isFunction});this.setAttributeConfig("clickHandler",{validator:e.isFunction});this.setAttributeConfig("descriptionAsLabel",{value:false})},getLabelEl:function(){return this.get("labelEl")},getLabel:function(){if(this.get("descriptionAsLabel")){return this.getDescription()}return this.getHeader()},getInputContainer:function(){return this.get("inputContainer")},getInputEl:function(){return this.get("inputEl")},getSubmitEl:function(){return this.get("submitEl")},isSubmitAllowed:function(){return this.getInputEl().value.length>0},getTextRequiredDialog:function(){var v=this.getInputEl();var u=new YAHOO.widget.Dialog("textRequiredDialog",{fixedcenter:true,draggable:true,zindex:4,close:true,modal:true,visible:false});u.setHeader("Text Required");u.setBody("Enter text, please.");this.configureDialogForClosing(u,v,"Close");u.render(document.body);return u},displayTextRequiredDialog:function(){var u=this.getTextRequiredDialog();u.show();u.focusFirst()},getResultsContainer:function(){return this.get("resultsContainer")},getElementId:function(){return this.getName()+"searchContainer"},getInputId:function(){return this.getName()+"autocomplete"},getInputContainerId:function(){return this.getName()+"inputContainer"},getResultsContainerId:function(){return this.getName()+"resultsContainer"},getButtonId:function(){return this.getName()+"submit"},getDataSource:function(){return this.get("dataSource")},setDataSource:function(u){this.set("dataSource",u)},getResultsList:function(){return this.get("resultsList")},getField:function(){return this.get("field")},getAutoComplete:function(){return this.get("autoComplete")},setAutoComplete:function(u){this.set("autoComplete",u)},getKeypressHandler:function(){return this.get("keypressHandler")},getClickHandler:function(){return this.get("clickHandler")},maybeSubmit:function(){if(this.isSubmitAllowed()){this._doSubmit()}else{this.displayTextRequiredDialog()}},render:function(v){var w=this.getElement();w.id=this.getElementId();b.addClass(w,"lookaheadContainer");var u=this.getLabelEl();u.innerHTML=this.getLabel();u.htmlFor=this.getInputId();var B=this.getInputContainer();B.id=this.getInputContainerId();b.addClass(B,"lookaheadInputContainer");var A=this.getInputEl();A.id=this.getInputId();b.addClass(A,"lookaheadInput");A.type="text";A.maxLength=200;if(this.getKeypressHandler()){t.on(A,"keypress",this.getKeypressHandler(),A)}else{t.on(A,"keypress",function(C){if(C.keyCode==13){t.stopEvent(C);this.maybeSubmit()}},this,true)}var y=this.getSubmitEl();y.id=this.getButtonId();b.addClass(y,"lookaheadSubmit");y.href="#none";y.innerHTML=getI18text("wizard_lookahead_submit_button_text");if(this.getClickHandler()){t.on(y,"click",this.getClickHandler(),A)}else{t.on(y,"click",function(C){t.stopEvent(C);this.maybeSubmit()},this,true)}B.appendChild(A);var z=document.createElement("span");b.addClass(z,"button-g");z.appendChild(y);B.appendChild(z);var x=this.getResultsContainer();x.id=this.getResultsContainerId();b.addClass(x,"lookaheadResults");v.appendChild(w);this._appendAutoComplete();this._doRender()},_doRender:function(){},_doSubmit:function(){},_appendAutoComplete:function(){return}});var h=function(u){u.name="geo";u.dataSource=u.dataSource||"/rest/wizard/geosuggest";h.superclass.constructor.call(this,u)};YAHOO.EUS.GeoLookaheadWidget=h;e.extend(h,o,{initAttributes:function(v){h.superclass.initAttributes.call(this,v);var u=new YAHOO.widget.Dialog("disambiguationDialog",{width:"460px",draggable:true,zindex:20,close:true,modal:true,visible:false,context:[this.getInputContainer(),"tl","bl",["beforeShow","windowResize"],[5,10]]});u.setHeader(getI18text("wizard_geo_disambiguation_title"));this.configureDialogForClosing(u,this.getInputEl(),getI18text("affalert_button_cancel"));u.render(this.getInputContainer());this.setAttributeConfig("disambiguationDialog",{readOnly:true,value:u})},displayTextRequiredDialog:function(){affAlert(getI18text("wizard_geo_disambiguation_no_results_message"),{header:getI18text("wizard_geo_disambiguation_no_results_header"),elementToFocus:this.getInputEl()})},getDisambiguationDialog:function(){return this.get("disambiguationDialog")},_appendAutoComplete:function(){var u=this.getDataSource();if(u&&u.length>0){var w=new YAHOO.util.XHRDataSource(u,{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:this.getResultsList(),fields:[this.getField()]}});var v=new YAHOO.EUS.GeoLookaheadAutoComplete(this.getInputEl(),this.getResultsContainer(),w)}},_doSubmit:function(){server.searchForGeoLookAhead(this.getInputEl().value,this.handleSearchForGeoLookAheadResults,this)},_doDestroy:function(){this.getDisambiguationDialog().destroy()},handleSearchForGeoLookAheadResults:function(u){if(u.matchCount>1){var v=this.getDisambiguationDialog();t.purgeElement(v.body);v.setBody(u.xhtml);t.delegate(v.body,"click",this.processLinkClickEvent,"a.geolink",this,true);var x=r.query("a.geolink",v.body,true);v.show();x.focus()}else{if(u.matchCount==1){var w=createAddToYourSelectionsAnimation("yscontainer",this.getInputId(),u.firstGeo);w.onComplete.subscribe(function(){var y={};server.geoAssistAddToYourSelections(y,[u.firstGeo],this.handleGeoAssistAddToYourSelectionsResult,this)},this,true);w.animate()}else{affAlert(getI18text("wizard_geo_disambiguation_no_results_message"),{header:getI18text("wizard_geo_disambiguation_no_results_header"),elementToFocus:this.getInputEl()})}}},processLinkClickEvent:function(x){t.stopEvent(x);var w=t.getTarget(x);var u=b.getAttribute(w,"geoid");var z=[u];var y=w.firstChild.nodeValue.trim();var v=createAddToYourSelectionsAnimation("yscontainer","geo_disambiguation",y);this.getInputEl().value=y;v.onComplete.subscribe(function(){var A={};server.geoAssistAddToYourSelections(A,z,this.handleGeoAssistAddToYourSelectionsResult,this)},this,true);v.animate();this.getDisambiguationDialog().hide()},handleGeoAssistAddToYourSelectionsResult:function(u){this.getInputEl().value="";updateYourSelections(TOPICS,u.UserSelections,u.totalNumRecsAvailable)}});var f=function(u){u.name="popgroup";u.dataSource="/rest/wizard/popgroupsuggest";u.keypressHandler=function(v){checkGeoEnter(v)};u.clickHandler=function(v){geoSearch(false,"",false)};f.superclass.constructor.call(this,u)};YAHOO.EUS.PopGroupLookaheadWidget=f;e.extend(f,o,{initAttributes:function(u){f.superclass.initAttributes.call(this,u)},_appendAutoComplete:function(){var u=this.getDataSource();if(u&&u.length>0){var w=new YAHOO.util.XHRDataSource(u,{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:this.getResultsList(),fields:[this.getField()]}});var v=new YAHOO.EUS.PopGroupLookaheadAutoComplete(this.getInputEl(),this.getResultsContainer(),w)}}});var l=function(u){u.name="indcode";u.dataSource="/rest/wizard/indcodesuggest";u.keypressHandler=function(v){checkGeoEnter(v)};u.clickHandler=function(v){geoSearch(false,"",false)};l.superclass.constructor.call(this,u)};YAHOO.EUS.IndustryCodeLookaheadWidget=l;e.extend(l,o,{initAttributes:function(u){l.superclass.initAttributes.call(this,u)},_appendAutoComplete:function(){var u=this.getDataSource();if(u&&u.length>0){var w=new YAHOO.util.XHRDataSource(u,{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:this.getResultsList(),fields:[this.getField()]}});var v=new YAHOO.EUS.IndustryCodeLookaheadAutoComplete(this.getInputEl(),this.getResultsContainer(),w)}}});var p=function(u){if(u.name==null){u.name="prod"}if(u.dataSource==null){u.dataSource="/rest/wizard/tablesuggest"}p.superclass.constructor.call(this,u)};YAHOO.EUS.TableLookaheadWidget=p;e.extend(p,o,{initAttributes:function(u){p.superclass.initAttributes.call(this,u);this.setAttributeConfig("helpOnClickHandler",{validator:e.isFunction})},_doSubmit:function(){if(this.getInputEl()&&this.getInputEl().value&&this.getInputEl().value.trim().length>0){server.tableSearchInitiated=true;var u=this.getInputEl().value.cleanSpacesDecode();this.getInputEl().value="";if(!server.isTableSearchResultInYourSelections){globalSearch(u,null,false,"prod")}else{affAlert(getI18text("wizard_table_already_selected"))}}},displayTextRequiredDialog:function(){return},_appendAutoComplete:function(){var u=this.getDataSource();if(u&&u.length>0){var w=new YAHOO.util.XHRDataSource(u,{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:this.getResultsList(),fields:[this.getField()]}});var v=new YAHOO.EUS.TableLookaheadAutoComplete(this.getInputEl(),this.getResultsContainer(),w)}}});var s=function(u){s.superclass.constructor.call(this,u)};YAHOO.EUS.TextRefinementLookaheadWidget=s;e.extend(s,p,{initAttributes:function(u){s.superclass.initAttributes.call(this,u)},_doSubmit:function(){if(this.getInputEl()&&this.getInputEl().value&&this.getInputEl().value.trim().length>0){var u=this.getInputEl().value.cleanSpacesDecode();this.getInputEl().value="";globalSearch(u,null,false,"prod","prod",null,true)}}});var g=function(u){g.superclass.constructor.call(this,u)};YAHOO.EUS.ResultsFormWidget=g;e.extend(g,d,{initAttributes:function(u){g.superclass.initAttributes.call(this,u);this.setAttributeConfig("formName");this.setAttributeConfig("headerText");this.setAttributeConfig("buttonPrefix")},getFormName:function(){return this.get("formName")},getHeaderText:function(){return this.get("headerText")},getButtonPrefix:function(){return this.get("buttonPrefix")},getHeaderId:function(){return this.getId()+"_pagereport"},getPaginatorId:function(){return this.getId()+"results_paginator_"},getSelectedCountId:function(){return this.getButtonPrefix()+"SelectCount_"},getAddToYourSelectionsButtonId:function(){return this.getButtonPrefix()+"_add_btn_1_"},getCheckAllButtonId:function(){return this.getButtonPrefix()+"_selectall_btn_1_"},getClearAllButtonId:function(){return this.getButtonPrefix()+"_clear_btn_1_"},getResetSortButtonId:function(){return this.getButtonPrefix()+"_reset_sort_btn_"},getDymPanelId:function(){return this.getId()+"Topics_dympanel"},getSelectionsId:function(){return this.getId()+"Topics_selections"},getResultTableId:function(){return this.getId()+"resulttable"},getSelectionsCautionId:function(){return"selections-caution"},render:function(v){var u=this.getElement();b.addClass(u,"container");b.addClass(u,"hilite-container");b.addClass(u,"searchresults");b.addClass(u,"resultsForm");v.appendChild(u);var x=u.appendChild(document.createElement("form"));x.id=this.getFormName();x.name=this.getFormName();x.method="post";x.action="#";var A=u.appendChild(document.createElement("div"));A.id=this.getSelectionsCautionId();var z=x.appendChild(document.createElement("div"));b.addClass(z,"content");var w=z.appendChild(document.createElement("div"));b.addClass(w,"hd");this._doRenderContentHead(w);var y=z.appendChild(document.createElement("div"));b.addClass(y,"bd");this._doRenderContentBody(y)},_doRenderContentHead:function(v){var w=v.appendChild(document.createElement("div"));w.innerHTML="";b.addClass(w,"paginator_ie7_bug");var u=v.appendChild(document.createElement("h1"));u.id=this.getHeaderId();u.innerHTML=this.getHeaderText()},_doRenderContentBody:function(v){var x=v.appendChild(document.createElement("div"));x.id=this.getSelectionsId();b.addClass(x,"topicSelections");this._doRenderSelections(x);this._doAppendActionBar(v,"above");var u=v.appendChild(document.createElement("div"));u.id=this.getDymPanelId();b.addClass(u,"dymPanel");var w=v.appendChild(document.createElement("div"));w.id=this.getResultTableId();this._doAppendActionBar(v,"below")},_doRenderSelections:function(w){var u=w.appendChild(document.createElement("span"));u.innerHTML=getI18text("wizard_your_filters");var v=w.appendChild(document.createElement("div"));b.addClass(v,"bd");b.setStyle(v,"display","inline")},_doAppendActionBar:function(z,A){var w=z.appendChild(document.createElement("div"));b.addClass(w,"actionbar");var v=document.createElement("div");v.id=this.getPaginatorId()+A;b.addClass(v,"pages");var y=document.createElement("div");b.addClass(y,"buttons");if(A=="above"){w.appendChild(v);w.appendChild(y)}else{w.appendChild(y);w.appendChild(v)}var C=y.appendChild(document.createElement("span"));var u=C.appendChild(document.createElement("span"));u.id=this.getSelectedCountId()+A;C.appendChild(document.createTextNode(getI18text("wizard_resultform_selected_text")));var x=y.appendChild(document.createElement("a"));x.id=this.getAddToYourSelectionsButtonId()+A;x.title=getI18text("wizard_resultform_add_button_title");x.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(getI18text("wizard_resultform_add_button_text")));b.addClass(x,"ab-add");b.addClass(x,"disabled");t.on(x,"click",function(H,G){addOverlayfilters(G)},this.getButtonPrefix());this._doAppendSpacer(y);var E=y.appendChild(document.createElement("a"));E.id=this.getCheckAllButtonId()+A;E.title=getI18text("wizard_resultform_check_button_title");E.appendChild(document.createElement("span"));E.appendChild(document.createTextNode(getI18text("wizard_resultform_check_button_text")));b.addClass(E,"ab-selectall");t.on(E,"click",function(H,G){selectAllOverlayFilters(G)},this.getButtonPrefix());this._doAppendSpacer(y);var F=y.appendChild(document.createElement("a"));F.id=this.getClearAllButtonId()+A;F.title=getI18text("wizard_resultform_clear_button_title");F.href="#none";F.appendChild(document.createElement("span"));F.appendChild(document.createTextNode(getI18text("wizard_resultform_clear_button_text")));b.addClass(F,"ab-clear");b.addClass(F,"disabled");t.on(F,"click",function(H,G){clearOverlayFilters(G)},this.getButtonPrefix());this._doAppendSpacer(y);var B=y.appendChild(document.createElement("a"));B.id=this.getResetSortButtonId()+A;B.title=getI18text("wizard_resultform_reset_sort_button_title");B.appendChild(document.createElement("span"));B.appendChild(document.createTextNode(" "+getI18text("wizard_resultform_reset_sort_button_text")));b.addClass(B,"ab-reset-sort");b.addClass(B,"disabled");t.on(B,"click",function(H,G){clearOverlaySort(G)},this.getButtonPrefix());var D=[x,E,F,B];t.on(D,"mouseover",function(G){b.addClass(t.getTarget(G),"mouseover")});t.on(D,"mouseout",function(G){b.removeClass(t.getTarget(G),"mouseover")})},_doAppendSpacer:function(u){var v=u.appendChild(document.createElement("img"));v.src="/common/img/button_sep.gif";v.height=18;v.width=3}});var m=function(u){m.superclass.constructor.call(this,u)};YAHOO.EUS.UnavailableWidget=m;e.extend(m,d,{initAttributes:function(u){m.superclass.initAttributes.call(this,u)},_doRender:function(u){u.innerHTML=getI18text("wizard_click_next_to_continue")}});var a=function(u){a.superclass.constructor.call(this,u);this.getDatasetSelected=function(){return server.datasetSelected};this.setDatasetSelected=function(v){server.datasetSelected=v};this.handleSelectionRemovedEvent=function(w,v,x){if(w=="selectionRemovedEvent"){if(v[0]==x.getListDimension()){server.resetDatasetSelection()}}t.stopEvent(selectionRemovedEvent)};selectionRemovedEvent.subscribe(this.handleSelectionRemovedEvent,this);this.clearSelections=function(y,w){var v=w?1:0;if(y&&y.options){for(var x=y.options.length-1;x>=v;x--){y.remove(x)}}};this.loadDimensionFilterListValuesCallback=function(v){var C=false;var B=false;if(v.filter&&v.filter.dimName){b.setStyle(this.getNoFilterMsgId(),"display","none");b.setStyle(this.getFilterContainerId(),"display","block");var z=b.get(this.getFilterSelectionId());this.clearSelections(z,true);var y=v.filter.dimValElems;for(var x=0;x<y.length;x++){var w=document.createElement("option");w.text=y[x].name.replace(/&amp;/g,"&");w.value=y[x].id;z.add(w)}C=true}else{if(server.selectedDimFilterValue!=null){b.setStyle(this.getFilterContainerId(),"display","none")}}if(v.list&&v.list.dimName&&!C){b.setStyle(this.getNoFilterMsgId(),"display","none");b.setStyle(this.getListContainerId(),"display","block");var A=b.get(this.getListSelectionId());this.clearSelections(A,false);var y=v.list.dimValElems;for(var x=0;x<y.length;x++){var w=document.createElement("option");w.text=y[x].name.replace(/&amp;/g,"&");w.value=y[x].url;A.add(w)}B=true}else{b.setStyle(this.getListContainerId(),"display","none")}if(!C&&!B){b.setStyle(this.getNoFilterMsgId(),"display","block")}};this.onDimensionFilterChange=function(y){var v=t.getTarget(y);var x=v.selectedIndex;if(x==0){b.setStyle(this.getListContainerId(),"display","none");server.selectedDimFilterValue=null}else{var w=v.options[x];server.selectedDimFilterValue=w.text;var z={filterDimVal:w.text};server.loadDimensionFilterListValues(z,this.loadDimensionListValsCallback,this)}};this.loadDimensionListValsCallback=function(v){b.setStyle(this.getListContainerId(),"display","block");var z=b.get(this.getListSelectionId());this.clearSelections(z,false);if(v.list&&v.list.dimName){var y=v.list.dimValElems;for(var x=0;x<y.length;x++){var w=document.createElement("option");w.text=y[x].name.replace(/&amp;/g,"&");w.value=y[x].url;z.add(w)}}};this.onDimensionListChange=function(y){var v=b.get(this.getListSelectionId());var x=v.selectedIndex;if(x==-1){affAlert(getI18text("wizard_dataset_noselection").format(server.wizardTitle))}else{if(this.getDatasetSelected()){affAlert(getI18text("wizard_dataset_already_selected"))}else{this.setDatasetSelected(true);var w=v.options[x];addToYourSelections(TOPICS,this.getListSelectionId(),w.text,w.value+"&log=t",this.getListDimension()+":"+encodeURIComponent(w.text));var z={datasetSelected:"true"};if(server.selectedDimFilterValue!=null){z.filterDimVal=server.selectedDimFilterValue}server.loadDimensionFilterListValues(z,this.loadDimensionFilterListValuesCallback,this)}}}};YAHOO.EUS.DimensionFilterList=a;e.extend(a,d,{initAttributes:function(u){a.superclass.initAttributes.call(this,u);this.setAttributeConfig("filterTitle",{writeOnce:true});this.setAttributeConfig("filterDimension",{writeOnce:true});this.setAttributeConfig("listTitle",{writeOnce:true});this.setAttributeConfig("listDimension",{writeOnce:true})},getFilterTitle:function(){return this.get("filterTitle")},getFilterDimension:function(){return this.get("filterDimension")},getFilterSelectionId:function(){return"filterDimensionListId"},getFilterContainerId:function(){return"filterDimensionContainerId"},getListTitle:function(){return this.get("listTitle")},getListDimension:function(){return this.get("listDimension")},getListSelectionId:function(){return"listDimensionListId"},getListContainerId:function(){return"listDimensionContainerId"},getDefaultFilterText:function(){return"-- "+this.getFilterTitle()+" --"},getNoFilterMsgId:function(){return"noFilterMsg"},_doRender:function(u){this._doAppendHelp(u);this._doRenderDimFilter(u);this._doRenderDimList(u);server.loadDimensionFilterListValues({},this.loadDimensionFilterListValuesCallback,this)},_doRenderDimFilter:function(v){var u=v.appendChild(document.createElement("div"));u.id=this.getNoFilterMsgId();u.innerHTML=getI18text("msg_no_more_selections");b.setStyle(u,"display","none");var y=v.appendChild(document.createElement("div"));y.id=this.getFilterContainerId();b.setStyle(y,"display","none");var w=y.appendChild(document.createElement("p"));b.addClass(w,"bullet");w.innerHTML=this.getFilterTitle();var x=y.appendChild(document.createElement("select"));x.id=this.getFilterSelectionId();t.on(x,"change",function(B,A){A.onDimensionFilterChange(B)},this);var z=document.createElement("option");z.text=this.getDefaultFilterText();x.add(z)},_doRenderDimList:function(v){var u=v.appendChild(document.createElement("div"));u.id=this.getListContainerId();b.setStyle(u,"display","none");var y=u.appendChild(document.createElement("p"));b.addClass(y,"bullet");y.innerHTML=this.getListTitle();var x=u.appendChild(document.createElement("select"));x.id=this.getListSelectionId();x.size=10;var z=u.appendChild(document.createElement("div"));z.id="button_container";b.addClass(z,"button-g");var w=z.appendChild(document.createElement("a"));w.title=getI18text("wizard_add_to_your_selections_title");w.innerHTML=getI18text("wizard_add_to_your_selections_title");t.on(w,"click",function(B,A){A.onDimensionListChange(B)},this)}})})();
/** /common/js/eus/WidgetRenderer.js **/
YAHOO.namespace("EUS");(function(){var b=YAHOO.util.Dom,c=YAHOO.lang,a=YAHOO.util.Element,g=YAHOO.util.Event;var f=function(j,k){if(j==null){return null}f.superclass.constructor.call(this,document.createElement("div"),k);this.setWidget(j)};YAHOO.EUS.WidgetRenderer=f;c.extend(f,a,{initAttributes:function(j){f.superclass.initAttributes.call(this,j);this.setAttributeConfig("widget");this.setAttributeConfig("showYourSelections",{validator:c.isBoolean,value:true});this.setAttributeConfig("isYourSelectionsAnchor");this.setAttributeConfig("headerBulleted",{validator:c.isBoolean,value:true})},getElement:function(){return this.get("element")},getWidget:function(){return this.get("widget")},setWidget:function(j){this.set("widget",j)},isShowYourSelections:function(){return this.get("showYourSelections")},isYourSelectionsAnchor:function(){return this.get("isYourSelectionsAnchor")},setYourSelectionsAnchor:function(j){this.set("isYourSelectionsAnchor",j)},isHeaderBulleted:function(){return this.get("headerBulleted")},destroy:function(){if(this.isYourSelectionsAnchor()){document.body.appendChild(b.get("ys-nav"));b.setStyle("yscontainer","display","none");b.get("nav-container").appendChild(b.get("wiz-nav"));this.setYourSelectionsAnchor(false)}this.getWidget().destroy();var j=this.getElement();if(j&&j.parentNode){j.parentNode.removeChild(j)}},render:function(j){j=b.get(j);if(!j){return null}var k=this.getElement();b.addClass(k,"widgetControl_container");j.appendChild(k);this._doRender(k)},_doRender:function(j){this._doRenderHeader(j);this._doRenderDescription(j);this._doRenderWidget(j);this._doRenderFooter(j)},_doRenderWidget:function(j){var k=j.appendChild(document.createElement("div"));b.addClass(k,"widgetControl");this._doRenderWidgetControl(k);if(this.isShowYourSelections()&&b.getStyle("yscontainer","display")=="none"){this._doRenderWidgetWithYourSelections(k)}},_doRenderWidgetControl:function(j){this.getWidget().render(j)},_doRenderWidgetWithYourSelections:function(j){var k=b.get("ys-nav");j.appendChild(k);b.setStyle("yscontainer","display","block");k.appendChild(b.get("wiz-nav"));this.setYourSelectionsAnchor(true)},_doRenderHeader:function(j){var l=this.getWidget().getHeader();if(l!=null&&l.length>0){var k=j.appendChild(document.createElement("div"));k.innerHTML=l;b.addClass(k,"header");if(this.isHeaderBulleted()){b.addClass(k,"bullet")}}},_doRenderDescription:function(j){var k=this.getWidget().getDescription();if(k!=null&&k.length>0){var l=j.appendChild(document.createElement("div"));l.innerHTML=k;b.addClass(l,"description")}},_doRenderFooter:function(k){var l=this.getWidget().getFooter();if(l!=null&&l.length>0){var j=k.appendChild(document.createElement("div"));j.innerHTML=l;b.addClass(j,"footer")}}});var e=function(j,k){e.superclass.constructor.call(this,j,k)};YAHOO.EUS.LookaheadWidgetRenderer=e;c.extend(e,f,{initAttributes:function(j){e.superclass.initAttributes.call(this,j);this.setAttributeConfig("renderInHeader",{value:true});this.setAttributeConfig("renderHelp",{value:false});this.setAttributeConfig("renderInDescription",{value:false})},isRenderInHeader:function(){return this.get("renderInHeader")},isRenderHelp:function(){return this.get("renderHelp")},isRenderInDescription:function(){return this.get("renderInDescription")},_doRender:function(j){var k=this.isRenderInHeader();this._doRenderHeader(j);if(this.isRenderInDescription()){this._doRenderInlineDescription(j)}else{this._doRenderDescription(j)}if(!k){this._doRenderWidget(j)}},_doRenderHeader:function(k){var l=k.appendChild(document.createElement("div"));var j=this.getWidget().getLabelEl();if(j!=null&&!this.isRenderInDescription()){l.appendChild(j)}else{l.innerHTML=this.getWidget().getHeader()}b.addClass(l,"header");if(this.isHeaderBulleted()){b.addClass(l,"bullet")}if(this.isRenderHelp()){var m=l.appendChild(document.createElement("a"));m.title=getI18text("helpicon_title");m.href="#none";b.addClass(m,"help-icon");g.on(m,"click",this.getWidget().getHelpOnClickHandler())}if(this.isRenderInHeader()){this._doRenderInline(l)}},_doRenderInlineDescription:function(k){var l=k.appendChild(document.createElement("div"));var j=this.getWidget().getLabelEl();if(j!=null){l.appendChild(j);b.addClass(l,"header")}this._doRenderInline(l)},_doRenderInline:function(j){this._doRenderWidgetControl(j)}});var i=function(j,k){i.superclass.constructor.call(this,j,k)};YAHOO.EUS.ChoiceListWidgetRenderer=i;c.extend(i,f,{initAttributes:function(j){i.superclass.initAttributes.call(this,j);this.setAttributeConfig("renderHelp",{value:false})},_isRenderHelp:function(){return this.get("renderHelp")},_doRender:function(j){this._doRenderHeader(j);this._doRenderWidget(j);this._doRenderDescription(j)},_doRenderHeader:function(j){var m=this.getWidget().getHeader();if(m!=null&&m.length>0){var k=j.appendChild(document.createElement("div"));k.innerHTML=m;b.addClass(k,"header");if(this.isHeaderBulleted()){b.addClass(k,"bullet")}if(this._isRenderHelp()){var l=k.appendChild(document.createElement("a"));l.title=getI18text("helpicon_title");l.href="#none";b.addClass(l,"help-icon");g.on(l,"click",this.getWidget().getHelpOnClickHandler())}}}});var h=function(j,k){h.superclass.constructor.call(this,j,k)};YAHOO.EUS.UnavailableWidgetRenderer=h;c.extend(h,f,{_doRenderHeader:function(j){var n=this.getWidget().getHeader();if(n!=null&&n.length>0){var m=j.appendChild(document.createElement("div"));b.addClass(m,"header");if(this.isHeaderBulleted()){b.addClass(m,"bullet")}var k=m.appendChild(document.createElement("span"));k.innerHTML=n;var l=m.appendChild(document.createElement("a"));l.title=getI18text("helpicon_title");l.href="#none";b.addClass(l,"help-icon");g.on(l,"click",this.getWidget().getHelpOnClickHandler())}}});var d=function(j,k){d.superclass.constructor.call(this,j,k)};YAHOO.EUS.ResultTableWidgetRenderer=d;c.extend(d,f,{_doRenderWidgetControl:function(l){this.getWidget().render(l);var m=b.get("text-refinement");if(m&&m!=null){var j={widgetType:"lookahead",id:"prod"};var k=new YAHOO.EUS.TextRefinementLookaheadWidget(j);k.render(m)}}})})();